<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_2.dtd'>
<nta>
	<declaration>

typedef struct
{
    int     bound_lower;
    int     bound_upper;
    bool    is_single_range;
    bool    is_active;
    int     variable_id;
    bool    satisfied;
    bool    is_exclusive;
} concurrent_request_type;

typedef struct
{
    int     value;
    bool    is_set;
} concurrent_data_type;

const int SCHEDULER_PROCESSES_AMOUNT    = 18;
const int CONCURRENT_DATA_AMOUNT        = 91;
const int CONCURRENT_REQUESTS_AMOUNT    = 14;
int concurrent_select = 0;
const int INVALID_REQUEST_ID            = -1;

typedef struct
{
    concurrent_data_type    concurrent_data[ CONCURRENT_DATA_AMOUNT ];
    concurrent_request_type concurrent_requests[ CONCURRENT_REQUESTS_AMOUNT ];
    bool                    is_process_would_like_to_access[ SCHEDULER_PROCESSES_AMOUNT ];
    int                     requests_amount;
} concurrent_info_type;

broadcast chan concurrent_notify[ CONCURRENT_DATA_AMOUNT ];

concurrent_info_type concurrent_info;

broadcast chan concurrent_lock_process[ SCHEDULER_PROCESSES_AMOUNT ];

broadcast chan concurrent_init_main;
broadcast chan concurrent_can_run;
broadcast chan concurrent_lock_release;

bool concurrent_done = false;


void concurrent_init()
{
    for ( request_id : int[ 0, CONCURRENT_REQUESTS_AMOUNT - 1 ])
    {
        concurrent_info.concurrent_requests[ request_id ].is_active     = false;
        concurrent_info.concurrent_requests[ request_id ].satisfied     = true;
        concurrent_info.concurrent_requests[ request_id ].is_exclusive  = false;
    }
    
    for ( process_id : int[ 0, SCHEDULER_PROCESSES_AMOUNT - 1 ])
    {
        concurrent_info.is_process_would_like_to_access[ process_id ] = false;
    }

    for ( variable_id : int[ 0, CONCURRENT_DATA_AMOUNT - 1 ])
    {
        concurrent_info.concurrent_data[ variable_id ].is_set = false;
    }

    concurrent_info.requests_amount = 0;
}

void concurrent_satisfied_update_request_single( int variable_id, int request_index ){
    int value = concurrent_info.concurrent_data[variable_id].value;

    if ( ( variable_id == concurrent_info.concurrent_requests[request_index].variable_id ) &amp;&amp;
         ( true == concurrent_info.concurrent_requests[request_index].is_active ) ){
        
        if ( true == concurrent_info.concurrent_requests[request_index].is_single_range )
        {
            concurrent_info.concurrent_requests[request_index].satisfied = concurrent_info.concurrent_requests[request_index].satisfied &amp;&amp;
                ( ( concurrent_info.concurrent_requests[request_index].bound_lower &lt;= value ) &amp;&amp;
                  ( value &lt;= concurrent_info.concurrent_requests[request_index].bound_upper ) );
        }
        else
        {
            concurrent_info.concurrent_requests[request_index].satisfied = concurrent_info.concurrent_requests[request_index].satisfied &amp;&amp;
                ( ( value &lt;= concurrent_info.concurrent_requests[request_index].bound_lower  ) ||
                  ( concurrent_info.concurrent_requests[request_index].bound_upper &lt;= value ) );
        }
    }
    
}

void concurrent_satisfied_update_request_all( int variable_id ){
    if ( 0 &lt; concurrent_info.requests_amount ){
        int value = concurrent_info.concurrent_data[ variable_id ].value;

        for ( i : int[0, CONCURRENT_REQUESTS_AMOUNT - 1] )
        {
            concurrent_satisfied_update_request_single( variable_id, i );
        }
    }
}

int concurrent_request_add( int variable_id, concurrent_request_type &amp;request){
    int     i           = 0;
    bool    found       = false;
    int     added_index = INVALID_REQUEST_ID;

    while( ( false == found                      ) &amp;&amp;
           ( i &lt; CONCURRENT_REQUESTS_AMOUNT ) )
    {
        if ( false == concurrent_info.concurrent_requests[ i ].is_active )
        {
            concurrent_info.concurrent_requests[i]             = request;
            concurrent_info.concurrent_requests[i].satisfied   = true;
            concurrent_info.concurrent_requests[i].is_active   = true;
            concurrent_info.concurrent_requests[i].variable_id = variable_id;

            concurrent_satisfied_update_request_single( variable_id, i );
            
            found = true;

            added_index = i;

            concurrent_info.requests_amount++;
        }
        else
        {
            i++;
        }
    }

    return added_index;
}

bool concurrent_request_remove_request( int request_index ){
    if ( true == concurrent_info.concurrent_requests[request_index].is_active ){
        
        concurrent_info.concurrent_requests[request_index].is_active = false;

        concurrent_info.requests_amount--;
    }

    return concurrent_info.concurrent_requests[request_index].satisfied;
}

bool concurrent_is_satisfied( int request_index ){
    return concurrent_info.concurrent_requests[request_index].satisfied;
}

int concurrent_read( int variable_id ){
    if ( true == concurrent_info.concurrent_data[ variable_id ].is_set )
    {
        return concurrent_info.concurrent_data[ variable_id ].value;
    }
    else
    {
        return 0 / 0;
    }
}

void concurrent_write( int variable_id, int value ){
    concurrent_info.concurrent_data[ variable_id ].is_set = true;
    concurrent_info.concurrent_data[ variable_id ].value  = value;
    
    concurrent_satisfied_update_request_all( variable_id );
}

void concurrent_signal_access(  int process_id, bool value ){
    
    concurrent_info.is_process_would_like_to_access[ process_id ] = value;
}

const int CONTROL_NODES_AMOUNT          = 12;
const int CONTROL_NODES_CAN_RUN_AMOUNT  = 17;

broadcast chan control_plp_start    [ CONCURRENT_DATA_AMOUNT        ];
broadcast chan control_plp_done     [ CONCURRENT_DATA_AMOUNT        ];
broadcast chan control_node_notify  [ CONTROL_NODES_AMOUNT          ];
bool           control_node_can_run [ CONTROL_NODES_CAN_RUN_AMOUNT  ];

void initialize_variables(){
// 000: current_angle
concurrent_write( 0, 15 );
// 001: current_position
concurrent_write( 1, 0 );
// 002: current_linear_speed
concurrent_write( 2, 0 );
// 003: current_angular_speed
concurrent_write( 3, 0 );
// 004: begin_point_angle
concurrent_write( 4, 0 );
// 005: begin_point_position
concurrent_write( 5, 0 );
// 006: collision_alert
concurrent_write( 6, 0 );
// 007: arm_moving
concurrent_write( 7, 0 );
// 008: energy_consumed
concurrent_write( 8, 0 );
// 009: distance_to_target
concurrent_write( 9, 0 );
// 010: robot_at_target
concurrent_write( 10, 0 );
// 011: finished_not_at_target
concurrent_write( 11, 0 );
// 012: req_linear_speed
concurrent_write( 12, 100 );
// 013: req_angular_speed
concurrent_write( 13, 200 );
// 014: aspeed_offset
concurrent_write( 14, 0 );
// 015: lspeed_offset
concurrent_write( 15, 0 );
// 016: distance_offset
concurrent_write( 16, 0 );
// 017: angle_offset
concurrent_write( 17, 0 );
// 018: timeOffset
concurrent_write( 18, 1 );
// 019: _achieve_walk_given_distance_laser_scan
concurrent_write( 19, 0 );
// 020: _achieve_walk_given_distance_odometry
concurrent_write( 20, 0 );
// 021: _achieve_walk_given_distance_energy_level
concurrent_write( 21, 0 );
// 022: _achieve_walk_given_distance_result
concurrent_write( 22, 0 );
// 023: _achieve_walk_given_distance_linear_distance
concurrent_write( 23, 1 );
// 024: _achieve_walk_given_distance_angular_distance
concurrent_write( 24, 1 );
// 025: _achieve_walk_given_distance_clear_path
concurrent_write( 25, 1 );
// 026: robot_wheels
// 027: _achieve_walk_given_distance_repeat
concurrent_write( 27, 0 );
// 028: _walk_given_distance_laser_scan
// 029: _walk_given_distance_odometry
// 030: _walk_given_distance_energy_level
// 031: _walk_given_distance_result
// 032: _walk_given_distance_linear_distance
// 033: _walk_given_distance_angular_distance
// 034: _walk_given_distance_clear_path
// 035: _walk_given_distance_repeat
concurrent_write( 35, 0 );
// 036: gas_consumed
concurrent_write( 36, 0 );
// 037: current_path_direction
concurrent_write( 37, 0 );
// 038: current_robot_direction
concurrent_write( 38, 0 );
// 039: distance_to_goal
concurrent_write( 39, 0 );
// 040: runtime_given_path_length
concurrent_write( 40, 0 );
// 041: vehicle_off_road
concurrent_write( 41, 0 );
// 042: max_allowed_change_rate
concurrent_write( 42, 0 );
// 043: required_distance
concurrent_write( 43, 0 );
// 044: exception_distance
// 045: path_offset
// 046: _maintain_direction_on_map_2_map
// 047: _maintain_direction_on_map_2_max_change_rate_path_tangent
// 048: _maintain_direction_on_map_2_gas_level
// 049: _maintain_direction_on_map_2_odometry
// 050: _maintain_direction_on_map_2_goal_location
// 051: _maintain_direction_on_map_2_path_free
// 052: steering_wheel
// 053: wet_path()
concurrent_write( 53, 0 );
// 054: damaged_vehicle()
// 055: _maintain_direction_on_map_map
concurrent_write( 55, 0 );
// 056: _maintain_direction_on_map_max_change_rate_path_tangent
concurrent_write( 56, 0 );
// 057: _maintain_direction_on_map_gas_level
concurrent_write( 57, 0 );
// 058: _maintain_direction_on_map_odometry
concurrent_write( 58, 0 );
// 059: _maintain_direction_on_map_goal_location
concurrent_write( 59, 0 );
// 060: _maintain_direction_on_map_path_free
concurrent_write( 60, 0 );
// 061: fuel
concurrent_write( 61, 1000 );
// 062: begin_Aspeed
concurrent_write( 62, 0 );
// 063: begin_Lspeed
concurrent_write( 63, 0 );
// 064: _observe_gateway_rgb_image
concurrent_write( 64, 0 );
// 065: _observe_gateway_odometry
concurrent_write( 65, 0 );
// 066: _observe_gateway_arm_controller
concurrent_write( 66, 0 );
// 067: _observe_gateway_gateway_location
concurrent_write( 67, 123 );
// 068: _observe_gateway_areaA
concurrent_write( 68, 0 );
// 069: _observe_gateway_areaB
concurrent_write( 69, 0 );
// 070: _observe_gateway_gateway
concurrent_write( 70, 0 );
// 071: _observe_gateway_gateway_blocked
concurrent_write( 71, 0 );
// 072: _observe_gateway_clear_path
concurrent_write( 72, 1 );
// 073: at(areaA)
concurrent_write( 73, 100 );
// 074: connected(areaA,areaB,gateway)
concurrent_write( 74, 100 );
// 075: _observe_gateway_repeat
concurrent_write( 75, 0 );
// 076: distance_to_wall
concurrent_write( 76, 0 );
// 077: initial_distance_to_wall
concurrent_write( 77, 300 );
// 078: lower_bound
concurrent_write( 78, 50 );
// 079: upper_bound
concurrent_write( 79, 100 );
// 080: _detect_wall_laser_scan
concurrent_write( 80, 0 );
// 081: _detect_wall_output
concurrent_write( 81, 0 );
// 082: _module_achieve_walk_given_distance
concurrent_write( 82, 0 );
// 083: _module_walk_given_distance
concurrent_write( 83, 0 );
// 084: _module_maintain_direction_on_map_2
concurrent_write( 84, 0 );
// 085: _module_maintain_direction_on_map
concurrent_write( 85, 0 );
// 086: _module_observe_gateway
concurrent_write( 86, 0 );
// 087: _module_detect_wall
concurrent_write( 87, 0 );
// 088: tmp_var
concurrent_write( 88, 700 );
// 089: achieve_walk_given_distance_repeat
concurrent_write( 89, 0 );
// 090: observe_gateway_repeat
concurrent_write( 90, 0 );
}


</declaration>


	<template>
		<name x="5" y="5">achieve_walk_given_distance</name>
		<parameter>int id</parameter>
		<declaration>
clock local_time;

int _variable_0000;
int _variable_0001;
int _variable_0002;
int _variable_0003;
int _variable_0004;
int _variable_0005;
concurrent_request_type _request_0000;
int _variable_0006;
concurrent_request_type _request_0001;
int _variable_0007;
int _variable_0008;

</declaration>

		<location id="id39" x="-717" y="-510">
			<name x="-748" y="-488">failure_0</name>
						<label kind="invariant" x="-717" y="-493">local_time &lt;= 10000</label>
			<label kind="exponentialrate" x="-766" y="-476">_variable_0001</label>
		</location>
		<location id="id40" x="-581" y="-510">
			<name x="-630" y="-488">failure_done_0</name>
		</location>
		<location id="id41" x="-717" y="-408">
			<name x="-748" y="-386">failure_1</name>
						<label kind="invariant" x="-717" y="-391">local_time &lt;= 10000</label>
			<label kind="exponentialrate" x="-766" y="-374">_variable_0002</label>
		</location>
		<location id="id42" x="-581" y="-408">
			<name x="-630" y="-386">failure_done_1</name>
		</location>
		<location id="id44" x="-688" y="-612">
			<name x="-747" y="-651">check_termination</name>
			<urgent/>
		</location>
		<location id="id43" x="-246" y="-272">
			<name x="-312" y="-250">failure_termination</name>
		</location>
		<location id="id45" x="-935" y="-816">
			<name x="-1097" y="-824">concurrent_waiting_0</name>
		</location>
		<location id="id46" x="-935" y="-952">
			<name x="-1104" y="-960">concurrent_got_lock_0</name>
			<urgent/>
		</location>
		<location id="id47" x="-629" y="-952">
			<name x="-607" y="-930">concurrent_notify_0_0</name>
			<urgent/>
		</location>
		<location id="id48" x="-527" y="-952">
			<name x="-505" y="-960">concurrent_unlock_0</name>
			<urgent/>
		</location>
		<location id="id49" x="-527" y="-816">
			<name x="-505" y="-824">concurrent_continue_0</name>
			<urgent/>
		</location>
		<location id="id50" x="-391" y="-816">
			<name x="-553" y="-824">concurrent_waiting_1</name>
		</location>
		<location id="id51" x="-391" y="-952">
			<name x="-560" y="-960">concurrent_got_lock_1</name>
			<urgent/>
		</location>
		<location id="id52" x="-85" y="-952">
			<name x="-63" y="-930">concurrent_notify_0_1</name>
			<urgent/>
		</location>
		<location id="id53" x="-85" y="-1088">
			<name x="-63" y="-1066">concurrent_notify_1_1</name>
			<urgent/>
		</location>
		<location id="id54" x="-85" y="-1224">
			<name x="-63" y="-1202">concurrent_notify_2_1</name>
			<urgent/>
		</location>
		<location id="id55" x="17" y="-952">
			<name x="39" y="-960">concurrent_unlock_1</name>
			<urgent/>
		</location>
		<location id="id56" x="17" y="-816">
			<name x="39" y="-824">concurrent_continue_1</name>
			<urgent/>
		</location>
		<location id="id57" x="578" y="-680">
			<name x="557" y="-719">fail_0</name>
		</location>
		<location id="id58" x="578" y="-748">
			<name x="557" y="-787">fail_1</name>
		</location>


        <location id="id36" x="272" y="-612">
			<name x="196" y="-578">sort_concurrent_results</name>
			<urgent/>
		</location>
		<location id="id23" x="612" y="-612">
			<name x="621" y="-646">end</name>
			<urgent/>
		</location>

		<location id="id25" x="-552" y="-612">
			<name x="-600" y="-671">main_success</name>
						<label kind="invariant" x="-552" y="-595">local_time &lt;= 10000</label>
			<label kind="exponentialrate" x="-601" y="-578">_variable_0000</label>

		</location>

		<location id="id27" x="-1368" y="-612">
			<name x="-1385" y="-654">start</name>
		</location>
		<location id="id28" x="-1130" y="-306">
			<name x="-1138" y="-357">repeat_wait</name>
			<label kind="invariant" x="-1104" y="-289">local_time &lt;= 0</label>
		</location>
		<location id="id29" x="-1223" y="-612">
			<name x="-1248" y="-654">synced</name>
			<urgent/>
		</location>
		<location id="id33" x="-1023" y="-612">
            <name x="-1122" y="-646">checked</name>
            <urgent/>
        </location>
		<location id="id30" x="-748" y="-612">
			<name x="-957" y="-633">access_memory_start_0</name>
			<urgent/>
		</location>
		<location id="id34" x="-714" y="-612">
            <name x="-680" y="-633">access_memory_end_0</name>
            <urgent/>
        </location>
		<location id="id31" x="-204" y="-612">
			<name x="-386" y="-663">access_memory_start_1</name>
			<urgent/>
		</location>
		<location id="id35" x="-170" y="-612">
            <name x="-146" y="-663">access_memory_end_1</name>
            <urgent/>
        </location>


			<branchpoint id="id37" x="-853" y="-510"></branchpoint>
			<branchpoint id="id38" x="-853" y="-408"></branchpoint>


        <init ref="id27"/>

		<transition>
			<source ref="id25"/>
			<target ref="id31"/>
		</transition>
		<transition>
			<source ref="id33"/>
			<target ref="id37"/>
			<label kind="guard" x="-989" y="-612">// [clear_path = TRUE]
( concurrent_read( 25 ) == 1 )</label>
			<nail x="-955" y="-510"/>
		</transition>
		<transition>
			<source ref="id37"/>
			<target ref="id30"/>
			<label kind="probability" x="-853" y="-544">95</label>
		</transition>
		<transition>
			<source ref="id37"/>
			<target ref="id39"/>
			<label kind="probability" x="-839" y="-527">0</label>
						<label kind="assignment" x="-880" y="-459">_variable_0001 = concurrent_read( 0 )</label>
		</transition>
		<transition>
			<source ref="id39"/>
			<target ref="id40"/>
		</transition>
		<transition>
			<source ref="id37"/>
			<target ref="id41"/>
			<label kind="probability" x="-839" y="-510">5</label>
						<label kind="assignment" x="-880" y="-357">_variable_0002 = concurrent_read( 0 )</label>
		</transition>
		<transition>
			<source ref="id41"/>
			<target ref="id42"/>
		</transition>
		<transition>
			<source ref="id33"/>
			<target ref="id38"/>
			<label kind="guard" x="-989" y="-510">// [clear_path = FALSE]
( concurrent_read( 25 ) == 0 )</label>
			<nail x="-955" y="-408"/>
		</transition>
		<transition>
			<source ref="id38"/>
			<target ref="id30"/>
			<label kind="probability" x="-853" y="-442">0</label>
		</transition>
		<transition>
			<source ref="id38"/>
			<target ref="id39"/>
			<label kind="probability" x="-846" y="-425">100</label>
						<label kind="assignment" x="-880" y="-459">_variable_0003 = concurrent_read( 0 )</label>
		</transition>
		<transition>
			<source ref="id39"/>
			<target ref=""/>
		</transition>
		<transition>
			<source ref="id38"/>
			<target ref="id41"/>
			<label kind="probability" x="-839" y="-408">0</label>
						<label kind="assignment" x="-880" y="-357">_variable_0004 = concurrent_read( 0 )</label>
		</transition>
		<transition>
			<source ref="id41"/>
			<target ref=""/>
		</transition>
		<transition>
			<source ref="id34"/>
			<target ref="id44"/>
		</transition>
		<transition>
			<source ref="id44"/>
			<target ref="id25"/>
						<label kind="assignment" x="-1055" y="-561">_variable_0000 = (concurrent_read( 23 )/concurrent_read( 12 )) + (concurrent_read( 24 )/concurrent_read( 13 )) + concurrent_read( 18 )</label>
		</transition>
		<transition>
			<source ref="id44"/>
			<target ref="id31"/>
			<label kind="guard" x="-601" y="-544">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<nail x="-484" y="-544"/>
			<nail x="-314" y="-544"/>
		</transition>
		<transition>
			<source ref="id25"/>
			<target ref="id31"/>
			<label kind="guard" x="-601" y="-476">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="-493" y="-442">concurrent_notify[39]?</label>
			<nail x="-484" y="-476"/>
			<nail x="-314" y="-476"/>
		</transition>
		<transition>
			<source ref="id25"/>
			<target ref="id31"/>
			<label kind="guard" x="-601" y="-408">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="-493" y="-374">concurrent_notify[43]?</label>
			<nail x="-484" y="-408"/>
			<nail x="-314" y="-408"/>
		</transition>
		<transition>
			<source ref="id25"/>
			<target ref="id43"/>
			<label kind="guard" x="-535" y="-340">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<label kind="synchronisation" x="-493" y="-306">concurrent_notify[41]?</label>
			<nail x="-484" y="-340"/>
			<nail x="-314" y="-340"/>
		</transition>
		<transition>
			<source ref="id44"/>
			<target ref="id43"/>
			<label kind="guard" x="-535" y="-272">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<nail x="-484" y="-272"/>
		</transition>
		<transition>
			<source ref="id30"/>
			<target ref="id45"/>
			<label kind="synchronisation" x="-1068" y="-782">concurrent_can_run!</label>
			<label kind="assignment" x="-1278" y="-765">concurrent_signal_access( id, true ),
// [arm_moving = FALSE]
_request_0000.bound_lower        = 0,
_request_0000.bound_upper        = 0,
_request_0000.is_single_range    = true,
_request_0000.variable_id        = 7,
// Make sure resource: robot_wheels not changing.
_request_0001.bound_lower        = 0,
_request_0001.bound_upper        = 0,
_request_0001.is_single_range    = true,
_request_0001.variable_id        = 26</label>
		</transition>
		<transition>
			<source ref="id45"/>
			<target ref="id46"/>
			<label kind="synchronisation" x="-1165" y="-918">concurrent_lock_process[id]?</label>
		</transition>
		<transition>
			<source ref="id47"/>
			<target ref="id48"/>
			<label kind="synchronisation" x="-595" y="-1020">concurrent_notify[82]!</label>
		</transition>
		<transition>
			<source ref="id46"/>
			<target ref="id47"/>
			<label kind="assignment" x="-1063" y="-1020">// [arm_moving = FALSE]
_variable_0005 = concurrent_request_add( 7, _request_0000 ) ,
// Make sure resource: robot_wheels not changing.
_variable_0006 = concurrent_request_add( 26, _request_0001 ) ,
// This module is running.
concurrent_write( 82, 1 )</label>
		</transition>
		<transition>
			<source ref="id48"/>
			<target ref="id49"/>
			<label kind="synchronisation" x="-493" y="-918">concurrent_lock_release!</label>
			<label kind="assignment" x="-493" y="-901">concurrent_signal_access( id, false )</label>
		</transition>
		<transition>
			<source ref="id49"/>
			<target ref="id34"/>
		</transition>
		<transition>
			<source ref="id31"/>
			<target ref="id50"/>
			<label kind="synchronisation" x="-524" y="-782">concurrent_can_run!</label>
			<label kind="assignment" x="-832" y="-765">concurrent_signal_access( id, true ) ,
_variable_0007 = concurrent_read( 21 ) - concurrent_read( 8 ) ,
// For Goal:
_variable_0008 = 1</label>
		</transition>
		<transition>
			<source ref="id50"/>
			<target ref="id51"/>
			<label kind="synchronisation" x="-621" y="-918">concurrent_lock_process[id]?</label>
		</transition>
		<transition>
			<source ref="id52"/>
			<target ref="id53"/>
			<label kind="synchronisation" x="-51" y="-1020">concurrent_notify[21]!</label>
		</transition>
		<transition>
			<source ref="id53"/>
			<target ref="id54"/>
			<label kind="synchronisation" x="-51" y="-1156">concurrent_notify[10]!</label>
		</transition>
		<transition>
			<source ref="id54"/>
			<target ref="id55"/>
			<label kind="synchronisation" x="-51" y="-1292">concurrent_notify[82]!</label>
			<nail x="17" y="-1224"/>
		</transition>
		<transition>
			<source ref="id51"/>
			<target ref="id52"/>
			<label kind="assignment" x="-575" y="-1020">_variable_0005 = concurrent_request_remove_request( _variable_0005 ) ,
_variable_0006 = concurrent_request_remove_request( _variable_0006 ) ,
// Effect: [energy_level = energy_level - energy_consumed]
concurrent_write( 21, _variable_0007 ) ,
// For Goal:
// robot_at_target
concurrent_write( 10, _variable_0008 ) ,
// This module finished running.
concurrent_write( 82, 0 )</label>
		</transition>
		<transition>
			<source ref="id55"/>
			<target ref="id56"/>
			<label kind="synchronisation" x="51" y="-918">concurrent_lock_release!</label>
			<label kind="assignment" x="51" y="-901">concurrent_signal_access( id, false )</label>
		</transition>
		<transition>
			<source ref="id56"/>
			<target ref="id35"/>
		</transition>
		<transition>
			<source ref="id36"/>
			<target ref="id57"/>
			<label kind="guard" x="340" y="-680">( _variable_0005 == false )</label>
			<nail x="340" y="-680"/>
		</transition>
		<transition>
			<source ref="id36"/>
			<target ref="id58"/>
			<label kind="guard" x="340" y="-748">( _variable_0006 == false )</label>
			<nail x="340" y="-748"/>
		</transition>
		<transition>
			<source ref="id36"/>
			<target ref="id23"/>
			<label kind="guard" x="340" y="-612">( _variable_0005 == true ) &amp;&amp;
( _variable_0006 == true )</label>
		</transition>


		<transition>
			<source ref="id27"/>
			<target ref="id29"/>
			<label kind="synchronisation" x="-1359" y="-637">control_plp_start[id]?</label>
		</transition>
		<transition>
			<source ref="id23"/>
			<target ref="id27"/>
			<label kind="guard" x="-1334" y="-263"> false == concurrent_read( 27 ) </label>
			<label kind="synchronisation" x="-1334" y="-229">control_plp_done[id]!</label>
			<nail x="612" y="-204"/>
			<nail x="-1368" y="-204"/>
		</transition>
		<transition controllable="true">
			<source ref="id29"/>
			<target ref="id33"/>
			<label kind="guard" x="-1309" y="-688">// Preconditions: [[current_linear_speed = 0], [current_angular_speed = 0]]
( ( concurrent_read( 2 ) == 0 ) &amp;&amp;
( concurrent_read( 3 ) == 0 ) )</label>
			<label kind="assignment" x="-1189" y="-603">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id28"/>
			<target ref="id29"/>
			<label kind="guard" x="-1266" y="-442">local_time == 0</label>
		</transition>
		<transition>
			<source ref="id23"/>
			<target ref="id28"/>
			<label kind="guard" x="-1104" y="-331">true == concurrent_read( 27 )</label>
			<label kind="assignment" x="-1104" y="-306">local_time = 0</label>
			<nail x="578" y="-306"/>
		</transition>

        <transition>
            <source ref="id35"/>
            <target ref="id36"/>
        </transition>
	</template>
	<template>
		<name x="5" y="5">walk_given_distance</name>
		<parameter>int id</parameter>
		<declaration>
clock local_time;

int _variable_0000;
int _variable_0001;
int _variable_0002;
int _variable_0003;
int _variable_0004;
int _variable_0005;
int _variable_0006;
concurrent_request_type _request_0000;
int _variable_0007;
concurrent_request_type _request_0001;
int _variable_0008;
int _variable_0009;

</declaration>

		<location id="id39" x="-717" y="-510">
			<name x="-748" y="-488">failure_0</name>
						<label kind="invariant" x="-766" y="-476">( local_time &lt;= _variable_0003 )</label>
		</location>
		<location id="id40" x="-581" y="-510">
			<name x="-630" y="-488">failure_done_0</name>
		</location>
		<location id="id42" x="-688" y="-612">
			<name x="-747" y="-651">check_termination</name>
			<urgent/>
		</location>
		<location id="id43" x="-935" y="-816">
			<name x="-1097" y="-824">concurrent_waiting_0</name>
		</location>
		<location id="id44" x="-935" y="-952">
			<name x="-1104" y="-960">concurrent_got_lock_0</name>
			<urgent/>
		</location>
		<location id="id45" x="-629" y="-952">
			<name x="-607" y="-930">concurrent_notify_0_0</name>
			<urgent/>
		</location>
		<location id="id46" x="-527" y="-952">
			<name x="-505" y="-960">concurrent_unlock_0</name>
			<urgent/>
		</location>
		<location id="id47" x="-527" y="-816">
			<name x="-505" y="-824">concurrent_continue_0</name>
			<urgent/>
		</location>
		<location id="id48" x="-391" y="-816">
			<name x="-553" y="-824">concurrent_waiting_1</name>
		</location>
		<location id="id49" x="-391" y="-952">
			<name x="-560" y="-960">concurrent_got_lock_1</name>
			<urgent/>
		</location>
		<location id="id50" x="-85" y="-952">
			<name x="-63" y="-930">concurrent_notify_0_1</name>
			<urgent/>
		</location>
		<location id="id51" x="-85" y="-1088">
			<name x="-63" y="-1066">concurrent_notify_1_1</name>
			<urgent/>
		</location>
		<location id="id52" x="-85" y="-1224">
			<name x="-63" y="-1202">concurrent_notify_2_1</name>
			<urgent/>
		</location>
		<location id="id53" x="17" y="-952">
			<name x="39" y="-960">concurrent_unlock_1</name>
			<urgent/>
		</location>
		<location id="id54" x="17" y="-816">
			<name x="39" y="-824">concurrent_continue_1</name>
			<urgent/>
		</location>
		<location id="id55" x="578" y="-680">
			<name x="557" y="-719">fail_0</name>
		</location>
		<location id="id56" x="578" y="-748">
			<name x="557" y="-787">fail_1</name>
		</location>


        <location id="id36" x="272" y="-612">
			<name x="196" y="-578">sort_concurrent_results</name>
			<urgent/>
		</location>
		<location id="id23" x="612" y="-612">
			<name x="621" y="-646">end</name>
			<urgent/>
		</location>

		<location id="id25" x="-552" y="-612">
			<name x="-600" y="-671">main_success</name>
						<label kind="invariant" x="-601" y="-578">( local_time &lt;= _variable_0001 )</label>

		</location>

		<location id="id27" x="-1368" y="-612">
			<name x="-1385" y="-654">start</name>
		</location>
		<location id="id28" x="-1130" y="-306">
			<name x="-1138" y="-357">repeat_wait</name>
			<label kind="invariant" x="-1104" y="-289">local_time &lt;= 0</label>
		</location>
		<location id="id29" x="-1223" y="-612">
			<name x="-1248" y="-654">synced</name>
			<urgent/>
		</location>
		<location id="id33" x="-1023" y="-612">
            <name x="-1122" y="-646">checked</name>
            <urgent/>
        </location>
		<location id="id30" x="-748" y="-612">
			<name x="-957" y="-633">access_memory_start_0</name>
			<urgent/>
		</location>
		<location id="id34" x="-714" y="-612">
            <name x="-680" y="-633">access_memory_end_0</name>
            <urgent/>
        </location>
		<location id="id31" x="-204" y="-612">
			<name x="-386" y="-663">access_memory_start_1</name>
			<urgent/>
		</location>
		<location id="id35" x="-170" y="-612">
            <name x="-146" y="-663">access_memory_end_1</name>
            <urgent/>
        </location>


			<branchpoint id="id37" x="-853" y="-510"></branchpoint>
			<branchpoint id="id38" x="-853" y="-408"></branchpoint>


        <init ref="id27"/>

		<transition>
			<source ref="id25"/>
			<target ref="id31"/>
			<label kind="guard" x="-539" y="-646">( _variable_0000 &lt;= local_time ) &amp;&amp;
( local_time &lt;= _variable_0001 )</label>
		</transition>
		<transition>
			<source ref="id33"/>
			<target ref="id37"/>
			<label kind="guard" x="-989" y="-612">// [clear_path = TRUE]
( concurrent_read( 34 ) == 1 )</label>
			<nail x="-955" y="-510"/>
		</transition>
		<transition>
			<source ref="id37"/>
			<target ref="id30"/>
			<label kind="probability" x="-853" y="-544">95</label>
		</transition>
		<transition>
			<source ref="id37"/>
			<target ref="id39"/>
			<label kind="probability" x="-839" y="-527">0</label>
						<label kind="assignment" x="-1288" y="-459">_variable_0002 = 0,
_variable_0003 = (concurrent_read( 32 )/concurrent_read( 12 )) + (concurrent_read( 33 )/concurrent_read( 13 )) + concurrent_read( 18 )</label>
		</transition>
		<transition>
			<source ref="id39"/>
			<target ref="id40"/>
			<label kind="guard" x="-1116" y="-646">( _variable_0002 &lt;= local_time ) &amp;&amp;
( local_time &lt;= _variable_0003 )</label>
		</transition>
		<transition>
			<source ref="id33"/>
			<target ref="id38"/>
			<label kind="guard" x="-989" y="-510">// [clear_path = FALSE]
( concurrent_read( 34 ) == 0 )</label>
			<nail x="-955" y="-408"/>
		</transition>
		<transition>
			<source ref="id38"/>
			<target ref="id30"/>
			<label kind="probability" x="-853" y="-442">0</label>
		</transition>
		<transition>
			<source ref="id38"/>
			<target ref="id39"/>
			<label kind="probability" x="-846" y="-425">100</label>
						<label kind="assignment" x="-1288" y="-459">_variable_0004 = 0,
_variable_0005 = (concurrent_read( 32 )/concurrent_read( 12 )) + (concurrent_read( 33 )/concurrent_read( 13 )) + concurrent_read( 18 )</label>
		</transition>
		<transition>
			<source ref="id39"/>
			<target ref=""/>
			<label kind="guard" x="-1116" y="-646">( _variable_0004 &lt;= local_time ) &amp;&amp;
( local_time &lt;= _variable_0005 )</label>
		</transition>
		<transition>
			<source ref="id34"/>
			<target ref="id42"/>
		</transition>
		<transition>
			<source ref="id42"/>
			<target ref="id25"/>
						<label kind="assignment" x="-1126" y="-561">_variable_0000 = (concurrent_read( 32 )/concurrent_read( 12 )) + (concurrent_read( 33 )/concurrent_read( 13 )) - concurrent_read( 18 ),
_variable_0001 = (concurrent_read( 32 )/concurrent_read( 12 )) + (concurrent_read( 33 )/concurrent_read( 13 )) + concurrent_read( 18 )</label>
		</transition>
		<transition>
			<source ref="id30"/>
			<target ref="id43"/>
			<label kind="synchronisation" x="-1068" y="-782">concurrent_can_run!</label>
			<label kind="assignment" x="-1278" y="-765">concurrent_signal_access( id, true ),
// [arm_moving = FALSE]
_request_0000.bound_lower        = 0,
_request_0000.bound_upper        = 0,
_request_0000.is_single_range    = true,
_request_0000.variable_id        = 7,
// Make sure resource: robot_wheels not changing.
_request_0001.bound_lower        = 0,
_request_0001.bound_upper        = 0,
_request_0001.is_single_range    = true,
_request_0001.variable_id        = 26</label>
		</transition>
		<transition>
			<source ref="id43"/>
			<target ref="id44"/>
			<label kind="synchronisation" x="-1165" y="-918">concurrent_lock_process[id]?</label>
		</transition>
		<transition>
			<source ref="id45"/>
			<target ref="id46"/>
			<label kind="synchronisation" x="-595" y="-1020">concurrent_notify[83]!</label>
		</transition>
		<transition>
			<source ref="id44"/>
			<target ref="id45"/>
			<label kind="assignment" x="-1063" y="-1020">// [arm_moving = FALSE]
_variable_0006 = concurrent_request_add( 7, _request_0000 ) ,
// Make sure resource: robot_wheels not changing.
_variable_0007 = concurrent_request_add( 26, _request_0001 ) ,
// This module is running.
concurrent_write( 83, 1 )</label>
		</transition>
		<transition>
			<source ref="id46"/>
			<target ref="id47"/>
			<label kind="synchronisation" x="-493" y="-918">concurrent_lock_release!</label>
			<label kind="assignment" x="-493" y="-901">concurrent_signal_access( id, false )</label>
		</transition>
		<transition>
			<source ref="id47"/>
			<target ref="id34"/>
		</transition>
		<transition>
			<source ref="id31"/>
			<target ref="id48"/>
			<label kind="synchronisation" x="-524" y="-782">concurrent_can_run!</label>
			<label kind="assignment" x="-832" y="-765">concurrent_signal_access( id, true ) ,
_variable_0008 = concurrent_read( 30 ) - concurrent_read( 8 ) ,
// For Goal:
_variable_0009 = 1</label>
		</transition>
		<transition>
			<source ref="id48"/>
			<target ref="id49"/>
			<label kind="synchronisation" x="-621" y="-918">concurrent_lock_process[id]?</label>
		</transition>
		<transition>
			<source ref="id50"/>
			<target ref="id51"/>
			<label kind="synchronisation" x="-51" y="-1020">concurrent_notify[30]!</label>
		</transition>
		<transition>
			<source ref="id51"/>
			<target ref="id52"/>
			<label kind="synchronisation" x="-51" y="-1156">concurrent_notify[10]!</label>
		</transition>
		<transition>
			<source ref="id52"/>
			<target ref="id53"/>
			<label kind="synchronisation" x="-51" y="-1292">concurrent_notify[83]!</label>
			<nail x="17" y="-1224"/>
		</transition>
		<transition>
			<source ref="id49"/>
			<target ref="id50"/>
			<label kind="assignment" x="-575" y="-1020">_variable_0006 = concurrent_request_remove_request( _variable_0006 ) ,
_variable_0007 = concurrent_request_remove_request( _variable_0007 ) ,
// Effect: [energy_level = energy_level - energy_consumed]
concurrent_write( 30, _variable_0008 ) ,
// For Goal:
// robot_at_target
concurrent_write( 10, _variable_0009 ) ,
// This module finished running.
concurrent_write( 83, 0 )</label>
		</transition>
		<transition>
			<source ref="id53"/>
			<target ref="id54"/>
			<label kind="synchronisation" x="51" y="-918">concurrent_lock_release!</label>
			<label kind="assignment" x="51" y="-901">concurrent_signal_access( id, false )</label>
		</transition>
		<transition>
			<source ref="id54"/>
			<target ref="id35"/>
		</transition>
		<transition>
			<source ref="id36"/>
			<target ref="id55"/>
			<label kind="guard" x="340" y="-680">( _variable_0006 == false )</label>
			<nail x="340" y="-680"/>
		</transition>
		<transition>
			<source ref="id36"/>
			<target ref="id56"/>
			<label kind="guard" x="340" y="-748">( _variable_0007 == false )</label>
			<nail x="340" y="-748"/>
		</transition>
		<transition>
			<source ref="id36"/>
			<target ref="id23"/>
			<label kind="guard" x="340" y="-612">( _variable_0006 == true ) &amp;&amp;
( _variable_0007 == true )</label>
		</transition>


		<transition>
			<source ref="id27"/>
			<target ref="id29"/>
			<label kind="synchronisation" x="-1359" y="-637">control_plp_start[id]?</label>
		</transition>
		<transition>
			<source ref="id23"/>
			<target ref="id27"/>
			<label kind="guard" x="-1334" y="-263"> false == concurrent_read( 35 ) </label>
			<label kind="synchronisation" x="-1334" y="-229">control_plp_done[id]!</label>
			<nail x="612" y="-204"/>
			<nail x="-1368" y="-204"/>
		</transition>
		<transition controllable="true">
			<source ref="id29"/>
			<target ref="id33"/>
			<label kind="guard" x="-1309" y="-688">// Preconditions: [[current_linear_speed = 0], [current_angular_speed = 0]]
( ( concurrent_read( 2 ) == 0 ) &amp;&amp;
( concurrent_read( 3 ) == 0 ) )</label>
			<label kind="assignment" x="-1189" y="-603">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id28"/>
			<target ref="id29"/>
			<label kind="guard" x="-1266" y="-442">local_time == 0</label>
		</transition>
		<transition>
			<source ref="id23"/>
			<target ref="id28"/>
			<label kind="guard" x="-1104" y="-331">true == concurrent_read( 35 )</label>
			<label kind="assignment" x="-1104" y="-306">local_time = 0</label>
			<nail x="578" y="-306"/>
		</transition>

        <transition>
            <source ref="id35"/>
            <target ref="id36"/>
        </transition>
	</template>
	<template>
		<name x="9" y="9">maintain_direction_on_map_2</name>
		<parameter>int id</parameter>
		<declaration>
clock local_time;

int wait                   = 2;

int _variable_0000;
concurrent_request_type _request_0000;
int _variable_0001;
concurrent_request_type _request_0001;
int _variable_0002;


		</declaration>
		<location id="id55" x="1190" y="-170">
			<name x="1139" y="-204">main_done</name>
			<urgent/>
		</location>
		<location id="id75" x="1649" y="-170">
			<name x="1550" y="-145">sort_concurrent_results</name>
			<urgent/>
		</location>
		<location id="id56" x="2074" y="-170">
			<name x="2091" y="-196">end</name>
			<urgent/>
		</location>
		<location id="id57" x="782" y="-170">
			<name x="773" y="-204">main_success</name>
						<urgent/>

		</location>

		<location id="id62" x="68" y="-170">
			<name x="26" y="-196">start</name>
		</location>
		<location id="id63" x="459" y="-170">
			<name x="382" y="-229">wait_maintain_true</name>
						<urgent/>

		</location>

		<location id="id74" x="409" y="-170">
			<name x="332" y="-229">pre_wait_maintain_true</name>
			<urgent/>
		</location>

		<location id="id64" x="578" y="-170">
			<name x="416" y="-229">access_memory_start_0</name>
			<urgent/>
		</location>
		<location id="id72" x="612" y="-170">
            <name x="624" y="-229">access_memory_end_0</name>
            <urgent/>
        </location>

		<location id="id65" x="1258" y="-170">
			<name x="1096" y="-238">access_memory_start_1</name>
			<urgent/>
		</location>
		<location id="id73" x="1292" y="-170">
            <name x="1300" y="-220">access_memory_end_1</name>
            <urgent/>
        </location>

        <location id="id60" x="187" y="-170">
            <name x="161" y="-212">synced</name>
            <urgent/>
		</location>
		<location id="id70" x="306" y="-170">
            <name x="272" y="-212">checked</name>
            <urgent/>
        </location>



		<location id="id77" x="952" y="-170">
			<name x="896" y="-209">interval_131_259</name>
			<label kind="invariant" x="882" y="-148">local_time &lt;= 259</label>
		</location>
		<location id="id78" x="952" y="-272">
			<name x="896" y="-311">interval_259_386</name>
			<label kind="invariant" x="882" y="-250">local_time &lt;= 386</label>
		</location>
		<location id="id79" x="952" y="-374">
			<name x="896" y="-413">interval_386_513</name>
			<label kind="invariant" x="882" y="-352">local_time &lt;= 513</label>
		</location>
		<location id="id80" x="952" y="-476">
			<name x="896" y="-515">interval_513_640</name>
			<label kind="invariant" x="882" y="-454">local_time &lt;= 640</label>
		</location>
		<location id="id81" x="952" y="-578">
			<name x="896" y="-617">interval_640_768</name>
			<label kind="invariant" x="882" y="-556">local_time &lt;= 768</label>
		</location>
		<location id="id83" x="646" y="-170">
			<name x="587" y="-209">check_termination</name>
			<urgent/>
		</location>
		<location id="id82" x="1190" y="170">
			<name x="1124" y="192">failure_termination</name>
		</location>
		<location id="id86" x="612" y="-68">
			<name x="581" y="-46">failure_0</name>
		</location>
		<location id="id87" x="612" y="34">
			<name x="581" y="56">failure_1</name>
		</location>
		<location id="id88" x="391" y="-374">
			<name x="229" y="-382">concurrent_waiting_0</name>
		</location>
		<location id="id89" x="391" y="-510">
			<name x="222" y="-518">concurrent_got_lock_0</name>
			<urgent/>
		</location>
		<location id="id90" x="697" y="-510">
			<name x="719" y="-488">concurrent_notify_0_0</name>
			<urgent/>
		</location>
		<location id="id91" x="697" y="-646">
			<name x="719" y="-624">concurrent_notify_1_0</name>
			<urgent/>
		</location>
		<location id="id92" x="799" y="-510">
			<name x="821" y="-518">concurrent_unlock_0</name>
			<urgent/>
		</location>
		<location id="id93" x="799" y="-374">
			<name x="821" y="-382">concurrent_continue_0</name>
			<urgent/>
		</location>
		<location id="id94" x="1071" y="-374">
			<name x="909" y="-382">concurrent_waiting_1</name>
		</location>
		<location id="id95" x="1071" y="-510">
			<name x="902" y="-518">concurrent_got_lock_1</name>
			<urgent/>
		</location>
		<location id="id96" x="1377" y="-510">
			<name x="1399" y="-488">concurrent_notify_0_1</name>
			<urgent/>
		</location>
		<location id="id97" x="1377" y="-646">
			<name x="1399" y="-624">concurrent_notify_1_1</name>
			<urgent/>
		</location>
		<location id="id98" x="1479" y="-510">
			<name x="1501" y="-518">concurrent_unlock_1</name>
			<urgent/>
		</location>
		<location id="id99" x="1479" y="-374">
			<name x="1501" y="-382">concurrent_continue_1</name>
			<urgent/>
		</location>
		<location id="id100" x="1955" y="-238">
			<name x="1934" y="-277">fail_0</name>
		</location>
		<location id="id101" x="1955" y="-306">
			<name x="1934" y="-345">fail_1</name>
		</location>


			<branchpoint id="id76" x="816" y="-170"></branchpoint>
			<branchpoint id="id84" x="476" y="-68"></branchpoint>
			<branchpoint id="id85" x="476" y="34"></branchpoint>


		<init ref="id62"/>

		<transition>
			<source ref="id63"/>
			<target ref="id64"/>
		</transition>
		<transition>
			<source ref="id57"/>
			<target ref="id76"/>
			<label kind="assignment" x="801" y="-170">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id76"/>
			<target ref="id77"/>
			<label kind="probability" x="850" y="-170">7</label>
			<nail x="850" y="-170"/>
		</transition>
		<transition>
			<source ref="id77"/>
			<target ref="id55"/>
			<label kind="guard" x="1020" y="-170">( 131 &lt; local_time ) &amp;&amp;
( local_time &lt;= 259 )</label>
			<nail x="1122" y="-170"/>
		</transition>
		<transition>
			<source ref="id76"/>
			<target ref="id78"/>
			<label kind="probability" x="850" y="-272">28</label>
			<nail x="850" y="-272"/>
		</transition>
		<transition>
			<source ref="id78"/>
			<target ref="id55"/>
			<label kind="guard" x="1020" y="-272">( 259 &lt; local_time ) &amp;&amp;
( local_time &lt;= 386 )</label>
			<nail x="1122" y="-272"/>
		</transition>
		<transition>
			<source ref="id76"/>
			<target ref="id79"/>
			<label kind="probability" x="850" y="-374">32</label>
			<nail x="850" y="-374"/>
		</transition>
		<transition>
			<source ref="id79"/>
			<target ref="id55"/>
			<label kind="guard" x="1020" y="-374">( 386 &lt; local_time ) &amp;&amp;
( local_time &lt;= 513 )</label>
			<nail x="1122" y="-374"/>
		</transition>
		<transition>
			<source ref="id76"/>
			<target ref="id80"/>
			<label kind="probability" x="850" y="-476">19</label>
			<nail x="850" y="-476"/>
		</transition>
		<transition>
			<source ref="id80"/>
			<target ref="id55"/>
			<label kind="guard" x="1020" y="-476">( 513 &lt; local_time ) &amp;&amp;
( local_time &lt;= 640 )</label>
			<nail x="1122" y="-476"/>
		</transition>
		<transition>
			<source ref="id76"/>
			<target ref="id81"/>
			<label kind="probability" x="850" y="-578">7</label>
			<nail x="850" y="-578"/>
		</transition>
		<transition>
			<source ref="id81"/>
			<target ref="id55"/>
			<label kind="guard" x="1020" y="-578">( 640 &lt; local_time ) &amp;&amp;
( local_time &lt;= 768 )</label>
			<nail x="1122" y="-578"/>
		</transition>
		<transition>
			<source ref="id72"/>
			<target ref="id83"/>
		</transition>
		<transition>
			<source ref="id83"/>
			<target ref="id57"/>
					</transition>
		<transition>
			<source ref="id83"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="-102">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<nail x="850" y="-102"/>
			<nail x="1122" y="-102"/>
		</transition>
		<transition>
			<source ref="id77"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="-34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="0">concurrent_notify[39]?</label>
			<nail x="850" y="-34"/>
			<nail x="1122" y="-34"/>
		</transition>
		<transition>
			<source ref="id78"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="-34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="0">concurrent_notify[39]?</label>
			<nail x="850" y="-34"/>
			<nail x="1122" y="-34"/>
		</transition>
		<transition>
			<source ref="id79"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="-34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="0">concurrent_notify[39]?</label>
			<nail x="850" y="-34"/>
			<nail x="1122" y="-34"/>
		</transition>
		<transition>
			<source ref="id80"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="-34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="0">concurrent_notify[39]?</label>
			<nail x="850" y="-34"/>
			<nail x="1122" y="-34"/>
		</transition>
		<transition>
			<source ref="id81"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="-34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="0">concurrent_notify[39]?</label>
			<nail x="850" y="-34"/>
			<nail x="1122" y="-34"/>
		</transition>
		<transition>
			<source ref="id57"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="-34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="0">concurrent_notify[39]?</label>
			<nail x="850" y="-34"/>
			<nail x="1122" y="-34"/>
		</transition>
		<transition>
			<source ref="id77"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="68">concurrent_notify[43]?</label>
			<nail x="850" y="34"/>
			<nail x="1122" y="34"/>
		</transition>
		<transition>
			<source ref="id78"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="68">concurrent_notify[43]?</label>
			<nail x="850" y="34"/>
			<nail x="1122" y="34"/>
		</transition>
		<transition>
			<source ref="id79"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="68">concurrent_notify[43]?</label>
			<nail x="850" y="34"/>
			<nail x="1122" y="34"/>
		</transition>
		<transition>
			<source ref="id80"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="68">concurrent_notify[43]?</label>
			<nail x="850" y="34"/>
			<nail x="1122" y="34"/>
		</transition>
		<transition>
			<source ref="id81"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="68">concurrent_notify[43]?</label>
			<nail x="850" y="34"/>
			<nail x="1122" y="34"/>
		</transition>
		<transition>
			<source ref="id57"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="68">concurrent_notify[43]?</label>
			<nail x="850" y="34"/>
			<nail x="1122" y="34"/>
		</transition>
		<transition>
			<source ref="id77"/>
			<target ref="id82"/>
			<label kind="guard" x="867" y="102">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<label kind="synchronisation" x="909" y="136">concurrent_notify[41]?</label>
			<nail x="850" y="102"/>
			<nail x="1122" y="102"/>
		</transition>
		<transition>
			<source ref="id78"/>
			<target ref="id82"/>
			<label kind="guard" x="867" y="102">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<label kind="synchronisation" x="909" y="136">concurrent_notify[41]?</label>
			<nail x="850" y="102"/>
			<nail x="1122" y="102"/>
		</transition>
		<transition>
			<source ref="id79"/>
			<target ref="id82"/>
			<label kind="guard" x="867" y="102">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<label kind="synchronisation" x="909" y="136">concurrent_notify[41]?</label>
			<nail x="850" y="102"/>
			<nail x="1122" y="102"/>
		</transition>
		<transition>
			<source ref="id80"/>
			<target ref="id82"/>
			<label kind="guard" x="867" y="102">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<label kind="synchronisation" x="909" y="136">concurrent_notify[41]?</label>
			<nail x="850" y="102"/>
			<nail x="1122" y="102"/>
		</transition>
		<transition>
			<source ref="id81"/>
			<target ref="id82"/>
			<label kind="guard" x="867" y="102">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<label kind="synchronisation" x="909" y="136">concurrent_notify[41]?</label>
			<nail x="850" y="102"/>
			<nail x="1122" y="102"/>
		</transition>
		<transition>
			<source ref="id57"/>
			<target ref="id82"/>
			<label kind="guard" x="867" y="102">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<label kind="synchronisation" x="909" y="136">concurrent_notify[41]?</label>
			<nail x="850" y="102"/>
			<nail x="1122" y="102"/>
		</transition>
		<transition>
			<source ref="id83"/>
			<target ref="id82"/>
			<label kind="guard" x="867" y="170">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<nail x="850" y="170"/>
		</transition>
		<transition>
			<source ref="id70"/>
			<target ref="id84"/>
			<label kind="guard" x="340" y="-170">// (wet_path)
( concurrent_read( 53 ) &gt; 0 )</label>
			<nail x="374" y="-68"/>
		</transition>
		<transition>
			<source ref="id84"/>
			<target ref="id74"/>
			<label kind="probability" x="476" y="-102">80</label>
		</transition>
		<transition>
			<source ref="id84"/>
			<target ref="id86"/>
			<label kind="probability" x="486" y="-85">15</label>
		</transition>
		<transition>
			<source ref="id84"/>
			<target ref="id87"/>
			<label kind="probability" x="490" y="-68">5</label>
		</transition>
		<transition>
			<source ref="id70"/>
			<target ref="id85"/>
			<label kind="guard" x="340" y="-68">// [Not (wet_path)]
! ( concurrent_read( 53 ) &gt; 0 )</label>
			<nail x="374" y="34"/>
		</transition>
		<transition>
			<source ref="id85"/>
			<target ref="id74"/>
			<label kind="probability" x="476" y="0">95</label>
		</transition>
		<transition>
			<source ref="id85"/>
			<target ref="id86"/>
			<label kind="probability" x="490" y="17">4</label>
		</transition>
		<transition>
			<source ref="id85"/>
			<target ref="id87"/>
			<label kind="probability" x="490" y="34">0</label>
		</transition>
		<transition>
			<source ref="id64"/>
			<target ref="id88"/>
			<label kind="synchronisation" x="258" y="-340">concurrent_can_run!</label>
			<label kind="assignment" x="34" y="-323">concurrent_signal_access( id, true ),
// [path_free = TRUE]
_request_0000.bound_lower        = 1,
_request_0000.bound_upper        = 1,
_request_0000.is_single_range    = true,
_request_0000.variable_id        = 51,
// Make sure resource: steering_wheel not changing.
_request_0001.bound_lower        = 0,
_request_0001.bound_upper        = 0,
_request_0001.is_single_range    = true,
_request_0001.variable_id        = 52</label>
		</transition>
		<transition>
			<source ref="id88"/>
			<target ref="id89"/>
			<label kind="synchronisation" x="161" y="-476">concurrent_lock_process[id]?</label>
		</transition>
		<transition>
			<source ref="id90"/>
			<target ref="id91"/>
			<label kind="synchronisation" x="731" y="-578">concurrent_notify[88]!</label>
		</transition>
		<transition>
			<source ref="id91"/>
			<target ref="id92"/>
			<label kind="synchronisation" x="731" y="-714">concurrent_notify[84]!</label>
			<nail x="799" y="-646"/>
		</transition>
		<transition>
			<source ref="id89"/>
			<target ref="id90"/>
			<label kind="assignment" x="263" y="-578">// [path_free = TRUE]
_variable_0000 = concurrent_request_add( 51, _request_0000 ) ,
// [tmp_var = 7.09]
concurrent_write( 88, 709 ) ,
// Make sure resource: steering_wheel not changing.
_variable_0001 = concurrent_request_add( 52, _request_0001 ) ,
// This module is running.
concurrent_write( 84, 1 )</label>
		</transition>
		<transition>
			<source ref="id92"/>
			<target ref="id93"/>
			<label kind="synchronisation" x="833" y="-476">concurrent_lock_release!</label>
			<label kind="assignment" x="833" y="-459">concurrent_signal_access( id, false )</label>
		</transition>
		<transition>
			<source ref="id93"/>
			<target ref="id72"/>
		</transition>
		<transition>
			<source ref="id65"/>
			<target ref="id94"/>
			<label kind="synchronisation" x="938" y="-340">concurrent_can_run!</label>
			<label kind="assignment" x="651" y="-323">concurrent_signal_access( id, true ) ,
_variable_0002 = concurrent_read( 48 )-concurrent_read( 36 )</label>
		</transition>
		<transition>
			<source ref="id94"/>
			<target ref="id95"/>
			<label kind="synchronisation" x="841" y="-476">concurrent_lock_process[id]?</label>
		</transition>
		<transition>
			<source ref="id96"/>
			<target ref="id97"/>
			<label kind="synchronisation" x="1411" y="-578">concurrent_notify[48]!</label>
		</transition>
		<transition>
			<source ref="id97"/>
			<target ref="id98"/>
			<label kind="synchronisation" x="1411" y="-714">concurrent_notify[84]!</label>
			<nail x="1479" y="-646"/>
		</transition>
		<transition>
			<source ref="id95"/>
			<target ref="id96"/>
			<label kind="assignment" x="887" y="-578">_variable_0000 = concurrent_request_remove_request( _variable_0000 ) ,
_variable_0001 = concurrent_request_remove_request( _variable_0001 ) ,
// Effect: [gas_level = gas_level-gas_consumed]
concurrent_write( 48, _variable_0002 ) ,
// This module finished running.
concurrent_write( 84, 0 )</label>
		</transition>
		<transition>
			<source ref="id98"/>
			<target ref="id99"/>
			<label kind="synchronisation" x="1513" y="-476">concurrent_lock_release!</label>
			<label kind="assignment" x="1513" y="-459">concurrent_signal_access( id, false )</label>
		</transition>
		<transition>
			<source ref="id99"/>
			<target ref="id73"/>
		</transition>
		<transition>
			<source ref="id75"/>
			<target ref="id100"/>
			<label kind="guard" x="1717" y="-238">( _variable_0000 == false )</label>
			<nail x="1717" y="-238"/>
		</transition>
		<transition>
			<source ref="id75"/>
			<target ref="id101"/>
			<label kind="guard" x="1717" y="-306">( _variable_0001 == false )</label>
			<nail x="1717" y="-306"/>
		</transition>
		<transition>
			<source ref="id75"/>
			<target ref="id56"/>
			<label kind="guard" x="1717" y="-170">( _variable_0000 == true ) &amp;&amp;
( _variable_0001 == true )</label>
		</transition>





		<transition>
			<source ref="id74"/>
			<target ref="id63"/>
						<label kind="guard" x="459" y="-170">( local_time == 0 )</label>

		</transition>
		<transition>
			<source ref="id55"/>
			<target ref="id65"/>
		</transition>




		<transition controllable="true">
            <source ref="id60"/>
            <target ref="id70"/>
            <label kind="guard" x="51" y="-255">// Preconditions: [[max_change_rate_path_tangent &lt;= max_allowed_change_rate]]
( ( concurrent_read( 47 ) &lt;= concurrent_read( 42 ) ) )</label>
            <label kind="assignment" x="180" y="-150">local_time = 0</label>
        </transition>

		<transition>
			<source ref="id56"/>
			<target ref="id62"/>
			<label kind="synchronisation" x="76" y="314">control_plp_done[id]!</label>
			<nail x="2074" y="340"/>
			<nail x="68" y="340"/>
		</transition>

		<transition>
			<source ref="id62"/>
			<target ref="id60"/>
			<label kind="synchronisation" x="76" y="-195">control_plp_start[id]?</label>
		</transition>

        <transition>
            <source ref="id73"/>
            <target ref="id75"/>
        </transition>
	</template>





	<template>
		<name x="9" y="9">maintain_direction_on_map</name>
		<parameter>int id</parameter>
		<declaration>
clock local_time;

int wait                   = 2;

int _variable_0000;
concurrent_request_type _request_0000;
int _variable_0001;
concurrent_request_type _request_0001;
int _variable_0002;
concurrent_request_type _request_0002;
int _variable_0003;
concurrent_request_type _request_0003;
int _variable_0004;


		</declaration>
		<location id="id55" x="1190" y="-170">
			<name x="1139" y="-204">main_done</name>
			<urgent/>
		</location>
		<location id="id75" x="1649" y="-170">
			<name x="1550" y="-145">sort_concurrent_results</name>
			<urgent/>
		</location>
		<location id="id56" x="2074" y="-170">
			<name x="2091" y="-196">end</name>
			<urgent/>
		</location>
		<location id="id57" x="782" y="-170">
			<name x="773" y="-204">main_success</name>
						<urgent/>

		</location>

		<location id="id62" x="68" y="-170">
			<name x="26" y="-196">start</name>
		</location>
		<location id="id63" x="459" y="-170">
			<name x="382" y="-229">wait_maintain_true</name>
						<urgent/>

		</location>

		<location id="id74" x="409" y="-170">
			<name x="332" y="-229">pre_wait_maintain_true</name>
			<urgent/>
		</location>

		<location id="id64" x="578" y="-170">
			<name x="416" y="-229">access_memory_start_0</name>
			<urgent/>
		</location>
		<location id="id72" x="612" y="-170">
            <name x="624" y="-229">access_memory_end_0</name>
            <urgent/>
        </location>

		<location id="id65" x="1258" y="-170">
			<name x="1096" y="-238">access_memory_start_1</name>
			<urgent/>
		</location>
		<location id="id73" x="1292" y="-170">
            <name x="1300" y="-220">access_memory_end_1</name>
            <urgent/>
        </location>

        <location id="id60" x="187" y="-170">
            <name x="161" y="-212">synced</name>
            <urgent/>
		</location>
		<location id="id70" x="306" y="-170">
            <name x="272" y="-212">checked</name>
            <urgent/>
        </location>



		<location id="id77" x="952" y="-170">
			<name x="896" y="-209">interval_131_259</name>
			<label kind="invariant" x="882" y="-148">local_time &lt;= 259</label>
		</location>
		<location id="id78" x="952" y="-272">
			<name x="896" y="-311">interval_259_386</name>
			<label kind="invariant" x="882" y="-250">local_time &lt;= 386</label>
		</location>
		<location id="id79" x="952" y="-374">
			<name x="896" y="-413">interval_386_513</name>
			<label kind="invariant" x="882" y="-352">local_time &lt;= 513</label>
		</location>
		<location id="id80" x="952" y="-476">
			<name x="896" y="-515">interval_513_640</name>
			<label kind="invariant" x="882" y="-454">local_time &lt;= 640</label>
		</location>
		<location id="id81" x="952" y="-578">
			<name x="896" y="-617">interval_640_768</name>
			<label kind="invariant" x="882" y="-556">local_time &lt;= 768</label>
		</location>
		<location id="id83" x="646" y="-170">
			<name x="587" y="-209">check_termination</name>
			<urgent/>
		</location>
		<location id="id82" x="1190" y="170">
			<name x="1124" y="192">failure_termination</name>
		</location>
		<location id="id86" x="612" y="-68">
			<name x="581" y="-46">failure_0</name>
		</location>
		<location id="id87" x="612" y="34">
			<name x="581" y="56">failure_1</name>
		</location>
		<location id="id88" x="391" y="-374">
			<name x="229" y="-382">concurrent_waiting_0</name>
		</location>
		<location id="id89" x="391" y="-510">
			<name x="222" y="-518">concurrent_got_lock_0</name>
			<urgent/>
		</location>
		<location id="id90" x="697" y="-510">
			<name x="719" y="-488">concurrent_notify_0_0</name>
			<urgent/>
		</location>
		<location id="id91" x="697" y="-646">
			<name x="719" y="-624">concurrent_notify_1_0</name>
			<urgent/>
		</location>
		<location id="id92" x="799" y="-510">
			<name x="821" y="-518">concurrent_unlock_0</name>
			<urgent/>
		</location>
		<location id="id93" x="799" y="-374">
			<name x="821" y="-382">concurrent_continue_0</name>
			<urgent/>
		</location>
		<location id="id94" x="1071" y="-374">
			<name x="909" y="-382">concurrent_waiting_1</name>
		</location>
		<location id="id95" x="1071" y="-510">
			<name x="902" y="-518">concurrent_got_lock_1</name>
			<urgent/>
		</location>
		<location id="id96" x="1377" y="-510">
			<name x="1399" y="-488">concurrent_notify_0_1</name>
			<urgent/>
		</location>
		<location id="id97" x="1377" y="-646">
			<name x="1399" y="-624">concurrent_notify_1_1</name>
			<urgent/>
		</location>
		<location id="id98" x="1479" y="-510">
			<name x="1501" y="-518">concurrent_unlock_1</name>
			<urgent/>
		</location>
		<location id="id99" x="1479" y="-374">
			<name x="1501" y="-382">concurrent_continue_1</name>
			<urgent/>
		</location>
		<location id="id100" x="1955" y="-238">
			<name x="1934" y="-277">fail_0</name>
		</location>
		<location id="id101" x="1955" y="-306">
			<name x="1934" y="-345">fail_1</name>
		</location>
		<location id="id102" x="1955" y="-374">
			<name x="1934" y="-413">fail_2</name>
		</location>
		<location id="id103" x="1955" y="-442">
			<name x="1934" y="-481">fail_3</name>
		</location>


			<branchpoint id="id76" x="816" y="-170"></branchpoint>
			<branchpoint id="id84" x="476" y="-68"></branchpoint>
			<branchpoint id="id85" x="476" y="34"></branchpoint>


		<init ref="id62"/>

		<transition>
			<source ref="id63"/>
			<target ref="id64"/>
		</transition>
		<transition>
			<source ref="id57"/>
			<target ref="id76"/>
			<label kind="assignment" x="801" y="-170">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id76"/>
			<target ref="id77"/>
			<label kind="probability" x="850" y="-170">7</label>
			<nail x="850" y="-170"/>
		</transition>
		<transition>
			<source ref="id77"/>
			<target ref="id55"/>
			<label kind="guard" x="1020" y="-170">( 131 &lt; local_time ) &amp;&amp;
( local_time &lt;= 259 )</label>
			<nail x="1122" y="-170"/>
		</transition>
		<transition>
			<source ref="id76"/>
			<target ref="id78"/>
			<label kind="probability" x="850" y="-272">28</label>
			<nail x="850" y="-272"/>
		</transition>
		<transition>
			<source ref="id78"/>
			<target ref="id55"/>
			<label kind="guard" x="1020" y="-272">( 259 &lt; local_time ) &amp;&amp;
( local_time &lt;= 386 )</label>
			<nail x="1122" y="-272"/>
		</transition>
		<transition>
			<source ref="id76"/>
			<target ref="id79"/>
			<label kind="probability" x="850" y="-374">32</label>
			<nail x="850" y="-374"/>
		</transition>
		<transition>
			<source ref="id79"/>
			<target ref="id55"/>
			<label kind="guard" x="1020" y="-374">( 386 &lt; local_time ) &amp;&amp;
( local_time &lt;= 513 )</label>
			<nail x="1122" y="-374"/>
		</transition>
		<transition>
			<source ref="id76"/>
			<target ref="id80"/>
			<label kind="probability" x="850" y="-476">19</label>
			<nail x="850" y="-476"/>
		</transition>
		<transition>
			<source ref="id80"/>
			<target ref="id55"/>
			<label kind="guard" x="1020" y="-476">( 513 &lt; local_time ) &amp;&amp;
( local_time &lt;= 640 )</label>
			<nail x="1122" y="-476"/>
		</transition>
		<transition>
			<source ref="id76"/>
			<target ref="id81"/>
			<label kind="probability" x="850" y="-578">7</label>
			<nail x="850" y="-578"/>
		</transition>
		<transition>
			<source ref="id81"/>
			<target ref="id55"/>
			<label kind="guard" x="1020" y="-578">( 640 &lt; local_time ) &amp;&amp;
( local_time &lt;= 768 )</label>
			<nail x="1122" y="-578"/>
		</transition>
		<transition>
			<source ref="id72"/>
			<target ref="id83"/>
		</transition>
		<transition>
			<source ref="id83"/>
			<target ref="id57"/>
					</transition>
		<transition>
			<source ref="id83"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="-102">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<nail x="850" y="-102"/>
			<nail x="1122" y="-102"/>
		</transition>
		<transition>
			<source ref="id77"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="-34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="0">concurrent_notify[39]?</label>
			<nail x="850" y="-34"/>
			<nail x="1122" y="-34"/>
		</transition>
		<transition>
			<source ref="id78"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="-34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="0">concurrent_notify[39]?</label>
			<nail x="850" y="-34"/>
			<nail x="1122" y="-34"/>
		</transition>
		<transition>
			<source ref="id79"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="-34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="0">concurrent_notify[39]?</label>
			<nail x="850" y="-34"/>
			<nail x="1122" y="-34"/>
		</transition>
		<transition>
			<source ref="id80"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="-34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="0">concurrent_notify[39]?</label>
			<nail x="850" y="-34"/>
			<nail x="1122" y="-34"/>
		</transition>
		<transition>
			<source ref="id81"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="-34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="0">concurrent_notify[39]?</label>
			<nail x="850" y="-34"/>
			<nail x="1122" y="-34"/>
		</transition>
		<transition>
			<source ref="id57"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="-34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="0">concurrent_notify[39]?</label>
			<nail x="850" y="-34"/>
			<nail x="1122" y="-34"/>
		</transition>
		<transition>
			<source ref="id77"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="68">concurrent_notify[43]?</label>
			<nail x="850" y="34"/>
			<nail x="1122" y="34"/>
		</transition>
		<transition>
			<source ref="id78"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="68">concurrent_notify[43]?</label>
			<nail x="850" y="34"/>
			<nail x="1122" y="34"/>
		</transition>
		<transition>
			<source ref="id79"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="68">concurrent_notify[43]?</label>
			<nail x="850" y="34"/>
			<nail x="1122" y="34"/>
		</transition>
		<transition>
			<source ref="id80"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="68">concurrent_notify[43]?</label>
			<nail x="850" y="34"/>
			<nail x="1122" y="34"/>
		</transition>
		<transition>
			<source ref="id81"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="68">concurrent_notify[43]?</label>
			<nail x="850" y="34"/>
			<nail x="1122" y="34"/>
		</transition>
		<transition>
			<source ref="id57"/>
			<target ref="id55"/>
			<label kind="guard" x="801" y="34">// [distance_to_goal &lt;= required_distance]
( concurrent_read( 39 ) &lt;= concurrent_read( 43 ) )</label>
			<label kind="synchronisation" x="909" y="68">concurrent_notify[43]?</label>
			<nail x="850" y="34"/>
			<nail x="1122" y="34"/>
		</transition>
		<transition>
			<source ref="id77"/>
			<target ref="id82"/>
			<label kind="guard" x="867" y="102">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<label kind="synchronisation" x="909" y="136">concurrent_notify[41]?</label>
			<nail x="850" y="102"/>
			<nail x="1122" y="102"/>
		</transition>
		<transition>
			<source ref="id78"/>
			<target ref="id82"/>
			<label kind="guard" x="867" y="102">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<label kind="synchronisation" x="909" y="136">concurrent_notify[41]?</label>
			<nail x="850" y="102"/>
			<nail x="1122" y="102"/>
		</transition>
		<transition>
			<source ref="id79"/>
			<target ref="id82"/>
			<label kind="guard" x="867" y="102">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<label kind="synchronisation" x="909" y="136">concurrent_notify[41]?</label>
			<nail x="850" y="102"/>
			<nail x="1122" y="102"/>
		</transition>
		<transition>
			<source ref="id80"/>
			<target ref="id82"/>
			<label kind="guard" x="867" y="102">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<label kind="synchronisation" x="909" y="136">concurrent_notify[41]?</label>
			<nail x="850" y="102"/>
			<nail x="1122" y="102"/>
		</transition>
		<transition>
			<source ref="id81"/>
			<target ref="id82"/>
			<label kind="guard" x="867" y="102">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<label kind="synchronisation" x="909" y="136">concurrent_notify[41]?</label>
			<nail x="850" y="102"/>
			<nail x="1122" y="102"/>
		</transition>
		<transition>
			<source ref="id57"/>
			<target ref="id82"/>
			<label kind="guard" x="867" y="102">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<label kind="synchronisation" x="909" y="136">concurrent_notify[41]?</label>
			<nail x="850" y="102"/>
			<nail x="1122" y="102"/>
		</transition>
		<transition>
			<source ref="id83"/>
			<target ref="id82"/>
			<label kind="guard" x="867" y="170">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<nail x="850" y="170"/>
		</transition>
		<transition>
			<source ref="id70"/>
			<target ref="id84"/>
			<label kind="guard" x="340" y="-170">// (wet_path)
( concurrent_read( 53 ) &gt; 0 )</label>
			<nail x="374" y="-68"/>
		</transition>
		<transition>
			<source ref="id84"/>
			<target ref="id74"/>
			<label kind="probability" x="476" y="-102">80</label>
		</transition>
		<transition>
			<source ref="id84"/>
			<target ref="id86"/>
			<label kind="probability" x="486" y="-85">15</label>
		</transition>
		<transition>
			<source ref="id84"/>
			<target ref="id87"/>
			<label kind="probability" x="490" y="-68">5</label>
		</transition>
		<transition>
			<source ref="id70"/>
			<target ref="id85"/>
			<label kind="guard" x="340" y="-68">// [Not (wet_path)]
! ( concurrent_read( 53 ) &gt; 0 )</label>
			<nail x="374" y="34"/>
		</transition>
		<transition>
			<source ref="id85"/>
			<target ref="id74"/>
			<label kind="probability" x="476" y="0">95</label>
		</transition>
		<transition>
			<source ref="id85"/>
			<target ref="id86"/>
			<label kind="probability" x="490" y="17">4</label>
		</transition>
		<transition>
			<source ref="id85"/>
			<target ref="id87"/>
			<label kind="probability" x="490" y="34">0</label>
		</transition>
		<transition>
			<source ref="id64"/>
			<target ref="id88"/>
			<label kind="synchronisation" x="258" y="-340">concurrent_can_run!</label>
			<label kind="assignment" x="34" y="-323">concurrent_signal_access( id, true ),
// [path_free = TRUE]
_request_0000.bound_lower        = 1,
_request_0000.bound_upper        = 1,
_request_0000.is_single_range    = true,
_request_0000.variable_id        = 60,
// Required resource: fuel at least: 0.12
_request_0001.bound_lower        = -1,
_request_0001.bound_upper        = 12,
_request_0001.is_single_range    = false,
_request_0001.variable_id        = 61,
// Make sure resource: fuel not changing.
_request_0002.bound_lower        = 1000,
_request_0002.bound_upper        = 1000,
_request_0002.is_single_range    = true,
_request_0002.variable_id        = 61,
// Make sure resource: steering_wheel not changing.
_request_0003.bound_lower        = 0,
_request_0003.bound_upper        = 0,
_request_0003.is_single_range    = true,
_request_0003.variable_id        = 52</label>
		</transition>
		<transition>
			<source ref="id88"/>
			<target ref="id89"/>
			<label kind="synchronisation" x="161" y="-476">concurrent_lock_process[id]?</label>
		</transition>
		<transition>
			<source ref="id90"/>
			<target ref="id91"/>
			<label kind="synchronisation" x="731" y="-578">concurrent_notify[88]!</label>
		</transition>
		<transition>
			<source ref="id91"/>
			<target ref="id92"/>
			<label kind="synchronisation" x="731" y="-714">concurrent_notify[85]!</label>
			<nail x="799" y="-646"/>
		</transition>
		<transition>
			<source ref="id89"/>
			<target ref="id90"/>
			<label kind="assignment" x="263" y="-578">// [path_free = TRUE]
_variable_0000 = concurrent_request_add( 60, _request_0000 ) ,
// [tmp_var equal 7.05]
concurrent_write( 88, 705 ) ,
// Required resource: fuel at least: 0.12
_variable_0001 = concurrent_request_add( 61, _request_0001 ) ,
// Make sure resource: fuel not changing.
_variable_0002 = concurrent_request_add( 61, _request_0002 ) ,
// Make sure resource: steering_wheel not changing.
_variable_0003 = concurrent_request_add( 52, _request_0003 ) ,
// This module is running.
concurrent_write( 85, 1 )</label>
		</transition>
		<transition>
			<source ref="id92"/>
			<target ref="id93"/>
			<label kind="synchronisation" x="833" y="-476">concurrent_lock_release!</label>
			<label kind="assignment" x="833" y="-459">concurrent_signal_access( id, false )</label>
		</transition>
		<transition>
			<source ref="id93"/>
			<target ref="id72"/>
		</transition>
		<transition>
			<source ref="id65"/>
			<target ref="id94"/>
			<label kind="synchronisation" x="938" y="-340">concurrent_can_run!</label>
			<label kind="assignment" x="651" y="-323">concurrent_signal_access( id, true ) ,
_variable_0004 = concurrent_read( 57 )-concurrent_read( 36 )</label>
		</transition>
		<transition>
			<source ref="id94"/>
			<target ref="id95"/>
			<label kind="synchronisation" x="841" y="-476">concurrent_lock_process[id]?</label>
		</transition>
		<transition>
			<source ref="id96"/>
			<target ref="id97"/>
			<label kind="synchronisation" x="1411" y="-578">concurrent_notify[57]!</label>
		</transition>
		<transition>
			<source ref="id97"/>
			<target ref="id98"/>
			<label kind="synchronisation" x="1411" y="-714">concurrent_notify[85]!</label>
			<nail x="1479" y="-646"/>
		</transition>
		<transition>
			<source ref="id95"/>
			<target ref="id96"/>
			<label kind="assignment" x="887" y="-578">_variable_0000 = concurrent_request_remove_request( _variable_0000 ) ,
_variable_0001 = concurrent_request_remove_request( _variable_0001 ) ,
_variable_0002 = concurrent_request_remove_request( _variable_0002 ) ,
_variable_0003 = concurrent_request_remove_request( _variable_0003 ) ,
// Effect: [gas_level = gas_level-gas_consumed]
concurrent_write( 57, _variable_0004 ) ,
// This module finished running.
concurrent_write( 85, 0 )</label>
		</transition>
		<transition>
			<source ref="id98"/>
			<target ref="id99"/>
			<label kind="synchronisation" x="1513" y="-476">concurrent_lock_release!</label>
			<label kind="assignment" x="1513" y="-459">concurrent_signal_access( id, false )</label>
		</transition>
		<transition>
			<source ref="id99"/>
			<target ref="id73"/>
		</transition>
		<transition>
			<source ref="id75"/>
			<target ref="id100"/>
			<label kind="guard" x="1717" y="-238">( _variable_0000 == false )</label>
			<nail x="1717" y="-238"/>
		</transition>
		<transition>
			<source ref="id75"/>
			<target ref="id101"/>
			<label kind="guard" x="1717" y="-306">( _variable_0001 == false )</label>
			<nail x="1717" y="-306"/>
		</transition>
		<transition>
			<source ref="id75"/>
			<target ref="id102"/>
			<label kind="guard" x="1717" y="-374">( _variable_0002 == false )</label>
			<nail x="1717" y="-374"/>
		</transition>
		<transition>
			<source ref="id75"/>
			<target ref="id103"/>
			<label kind="guard" x="1717" y="-442">( _variable_0003 == false )</label>
			<nail x="1717" y="-442"/>
		</transition>
		<transition>
			<source ref="id75"/>
			<target ref="id56"/>
			<label kind="guard" x="1717" y="-170">( _variable_0000 == true ) &amp;&amp;
( _variable_0001 == true ) &amp;&amp;
( _variable_0002 == true ) &amp;&amp;
( _variable_0003 == true )</label>
		</transition>





		<transition>
			<source ref="id74"/>
			<target ref="id63"/>
						<label kind="guard" x="459" y="-170">( local_time == 0 )</label>

		</transition>
		<transition>
			<source ref="id55"/>
			<target ref="id65"/>
		</transition>




		<transition controllable="true">
            <source ref="id60"/>
            <target ref="id70"/>
            <label kind="guard" x="51" y="-255">// Preconditions: [[max_change_rate_path_tangent &lt;= max_allowed_change_rate]]
( ( concurrent_read( 56 ) &lt;= concurrent_read( 42 ) ) )</label>
            <label kind="assignment" x="180" y="-150">local_time = 0</label>
        </transition>

		<transition>
			<source ref="id56"/>
			<target ref="id62"/>
			<label kind="synchronisation" x="76" y="314">control_plp_done[id]!</label>
			<nail x="2074" y="340"/>
			<nail x="68" y="340"/>
		</transition>

		<transition>
			<source ref="id62"/>
			<target ref="id60"/>
			<label kind="synchronisation" x="76" y="-195">control_plp_start[id]?</label>
		</transition>

        <transition>
            <source ref="id73"/>
            <target ref="id75"/>
        </transition>
	</template>





	<template>
		<name>observe_gateway</name>
        <parameter>int id</parameter>
		<declaration>
clock local_time;

int _variable_0000;
int _variable_0001;
int _variable_0002;
int _variable_0003;
int _variable_0004;
concurrent_request_type _request_0000;
int _variable_0005;
concurrent_request_type _request_0001;
int _variable_0006;
concurrent_request_type _request_0002;


</declaration>
		<location id="id91" x="-484" y="102">
			<label kind="invariant" x="-458" y="119">local_time &lt;= 0</label>
		</location>
		<location id="id92" x="-534" y="-272">
			<name x="-561" y="-314">synced</name>
			<urgent/>
		</location>
		<location id="id107" x="1129" y="-272">
			<name x="1045" y="-260">sort_concurrent_results</name>
			<urgent/>
		</location>
		<location id="id93" x="1469" y="-272">
			<name x="1460" y="-306">end</name>
			<urgent/>
		</location>
		<location id="id94" x="214" y="-272">
			<name x="180" y="-323">success</name>
			<urgent/>
		</location>

        <location id="id102" x="-229" y="-272">
			<name x="-382" y="-314">access_memory_start_0</name>
			<urgent/>
		</location>
		<location id="id103" x="-195" y="-272">
            <name x="-178" y="-314">access_memory_end_0</name>
            <urgent/>
        </location>

        <!--location id="id106" x="551" y="-272">
            <name x="440" y="-306">observation_decided</name>
            <urgent/>
        </location-->

        <location id="id104" x="687" y="-272">
            <name x="576" y="-306">access_memory_start_1</name>
            <urgent/>
        </location>
        <location id="id105" x="721" y="-272">
            <name x="712" y="-306">access_memory_end_1</name>
            <urgent/>
        </location>

		<location id="id96" x="-76" y="-272">
			<name x="-127" y="-314">main_success</name>
						<urgent/>

		</location>
		<location id="id98" x="-654" y="-272">
			<name x="-671" y="-323">start</name>
		</location>
		<location id="id101" x="-382" y="-272">
            <name x="-392" y="-282">checked</name>
            <urgent/>
        </location>
		<location id="id109" x="94" y="-272">
			<name x="38" y="-311">interval_129_397</name>
			<label kind="invariant" x="24" y="-250">local_time &lt;= 397</label>
		</location>
		<location id="id110" x="94" y="-374">
			<name x="38" y="-413">interval_397_665</name>
			<label kind="invariant" x="24" y="-352">local_time &lt;= 665</label>
		</location>
		<location id="id111" x="94" y="-476">
			<name x="38" y="-515">interval_665_934</name>
			<label kind="invariant" x="24" y="-454">local_time &lt;= 934</label>
		</location>
		<location id="id112" x="94" y="-578">
			<name x="35" y="-617">interval_934_1202</name>
			<label kind="invariant" x="21" y="-556">local_time &lt;= 1202</label>
		</location>
		<location id="id113" x="94" y="-680">
			<name x="31" y="-719">interval_1202_1470</name>
			<label kind="invariant" x="21" y="-658">local_time &lt;= 1470</label>
		</location>
		<location id="id116" x="-76" y="-170">
			<name x="-107" y="-148">failure_0</name>
						<label kind="invariant" x="-125" y="-136">( local_time &lt;= _variable_0001 )</label>
		</location>
		<location id="id117" x="60" y="-170">
			<name x="11" y="-148">failure_done_0</name>
		</location>
		<location id="id118" x="-76" y="-68">
			<name x="-107" y="-46">failure_1</name>
						<label kind="invariant" x="-125" y="-34">( local_time &lt;= _variable_0003 )</label>
		</location>
		<location id="id119" x="60" y="-68">
			<name x="11" y="-46">failure_done_1</name>
		</location>
		<location id="id121" x="-212" y="-272">
			<name x="-271" y="-311">check_termination</name>
			<urgent/>
		</location>
		<location id="id120" x="332" y="-136">
			<name x="266" y="-114">failure_termination</name>
		</location>
		<location id="id122" x="-416" y="-476">
			<name x="-578" y="-484">concurrent_waiting_0</name>
		</location>
		<location id="id123" x="-416" y="-612">
			<name x="-585" y="-620">concurrent_got_lock_0</name>
			<urgent/>
		</location>
		<location id="id124" x="-110" y="-612">
			<name x="-88" y="-590">concurrent_notify_0_0</name>
			<urgent/>
		</location>
		<location id="id125" x="-8" y="-612">
			<name x="14" y="-620">concurrent_unlock_0</name>
			<urgent/>
		</location>
		<location id="id126" x="-8" y="-476">
			<name x="14" y="-484">concurrent_continue_0</name>
			<urgent/>
		</location>
		<location id="id127" x="500" y="-476">
			<name x="338" y="-484">concurrent_waiting_1</name>
		</location>
		<location id="id128" x="500" y="-612">
			<name x="331" y="-620">concurrent_got_lock_1</name>
			<urgent/>
		</location>
		<location id="id129" x="806" y="-612">
			<name x="828" y="-590">concurrent_notify_0_1</name>
			<urgent/>
		</location>
		<location id="id130" x="806" y="-748">
			<name x="828" y="-726">concurrent_notify_1_1</name>
			<urgent/>
		</location>
		<location id="id131" x="908" y="-612">
			<name x="930" y="-620">concurrent_unlock_1</name>
			<urgent/>
		</location>
		<location id="id132" x="908" y="-476">
			<name x="930" y="-484">concurrent_continue_1</name>
			<urgent/>
		</location>
		<location id="id133" x="1435" y="-340">
			<name x="1414" y="-379">fail_0</name>
		</location>
		<location id="id134" x="1435" y="-408">
			<name x="1414" y="-447">fail_1</name>
		</location>
		<location id="id135" x="1435" y="-476">
			<name x="1414" y="-515">fail_2</name>
		</location>


			<branchpoint id="id108" x="-42" y="-272"></branchpoint>
			<branchpoint id="id114" x="-212" y="-170"></branchpoint>
			<branchpoint id="id115" x="-212" y="-68"></branchpoint>


		<init ref="id98"/>

		<transition>
			<source ref="id96"/>
			<target ref="id108"/>
			<label kind="assignment" x="-57" y="-272">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id108"/>
			<target ref="id109"/>
			<label kind="probability" x="-8" y="-272">3</label>
			<nail x="-8" y="-272"/>
		</transition>
		<transition>
			<source ref="id109"/>
			<target ref="id94"/>
			<label kind="guard" x="162" y="-272">( 129 &lt; local_time ) &amp;&amp;
( local_time &lt;= 397 )</label>
			<nail x="146" y="-272"/>
		</transition>
		<transition>
			<source ref="id108"/>
			<target ref="id110"/>
			<label kind="probability" x="-8" y="-374">23</label>
			<nail x="-8" y="-374"/>
		</transition>
		<transition>
			<source ref="id110"/>
			<target ref="id94"/>
			<label kind="guard" x="162" y="-374">( 397 &lt; local_time ) &amp;&amp;
( local_time &lt;= 665 )</label>
			<nail x="146" y="-374"/>
		</transition>
		<transition>
			<source ref="id108"/>
			<target ref="id111"/>
			<label kind="probability" x="-8" y="-476">45</label>
			<nail x="-8" y="-476"/>
		</transition>
		<transition>
			<source ref="id111"/>
			<target ref="id94"/>
			<label kind="guard" x="162" y="-476">( 665 &lt; local_time ) &amp;&amp;
( local_time &lt;= 934 )</label>
			<nail x="146" y="-476"/>
		</transition>
		<transition>
			<source ref="id108"/>
			<target ref="id112"/>
			<label kind="probability" x="-8" y="-578">23</label>
			<nail x="-8" y="-578"/>
		</transition>
		<transition>
			<source ref="id112"/>
			<target ref="id94"/>
			<label kind="guard" x="162" y="-578">( 934 &lt; local_time ) &amp;&amp;
( local_time &lt;= 1202 )</label>
			<nail x="146" y="-578"/>
		</transition>
		<transition>
			<source ref="id108"/>
			<target ref="id113"/>
			<label kind="probability" x="-8" y="-680">3</label>
			<nail x="-8" y="-680"/>
		</transition>
		<transition>
			<source ref="id113"/>
			<target ref="id94"/>
			<label kind="guard" x="162" y="-680">( 1202 &lt; local_time ) &amp;&amp;
( local_time &lt;= 1470 )</label>
			<nail x="146" y="-680"/>
		</transition>
		<transition>
			<source ref="id101"/>
			<target ref="id114"/>
			<label kind="guard" x="-348" y="-272">// [OR [gateway_blocked = TRUE] [clear_path = FALSE]]
( ( concurrent_read( 71 ) == 1 ) ||
( concurrent_read( 72 ) == 0 ) )</label>
			<nail x="-314" y="-170"/>
		</transition>
		<transition>
			<source ref="id114"/>
			<target ref="id102"/>
			<label kind="probability" x="-212" y="-204">0</label>
		</transition>
		<transition>
			<source ref="id114"/>
			<target ref="id116"/>
			<label kind="probability" x="-205" y="-187">100</label>
						<label kind="assignment" x="-244" y="-119">_variable_0000 = 0,
_variable_0001 = 20</label>
		</transition>
		<transition>
			<source ref="id116"/>
			<target ref="id117"/>
			<label kind="guard" x="-475" y="-306">( _variable_0000 &lt;= local_time ) &amp;&amp;
( local_time &lt;= _variable_0001 )</label>
		</transition>
		<transition>
			<source ref="id101"/>
			<target ref="id115"/>
			<label kind="guard" x="-348" y="-170">// [AND [gateway_blocked = FALSE] [clear_path = TRUE]]
( ( concurrent_read( 71 ) == 0 ) &amp;&amp;
( concurrent_read( 72 ) == 1 ) )</label>
			<nail x="-314" y="-68"/>
		</transition>
		<transition>
			<source ref="id115"/>
			<target ref="id102"/>
			<label kind="probability" x="-212" y="-102">90</label>
		</transition>
		<transition>
			<source ref="id115"/>
			<target ref="id118"/>
			<label kind="probability" x="-202" y="-68">10</label>
						<label kind="assignment" x="-244" y="-17">_variable_0002 = 0,
_variable_0003 = 20</label>
		</transition>
		<transition>
			<source ref="id118"/>
			<target ref="id119"/>
			<label kind="guard" x="-475" y="-306">( _variable_0002 &lt;= local_time ) &amp;&amp;
( local_time &lt;= _variable_0003 )</label>
		</transition>
		<transition>
			<source ref="id103"/>
			<target ref="id121"/>
		</transition>
		<transition>
			<source ref="id121"/>
			<target ref="id96"/>
					</transition>
		<transition>
			<source ref="id109"/>
			<target ref="id120"/>
			<label kind="guard" x="9" y="-204">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<label kind="synchronisation" x="51" y="-170">concurrent_notify[41]?</label>
			<nail x="-8" y="-204"/>
			<nail x="264" y="-204"/>
		</transition>
		<transition>
			<source ref="id110"/>
			<target ref="id120"/>
			<label kind="guard" x="9" y="-204">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<label kind="synchronisation" x="51" y="-170">concurrent_notify[41]?</label>
			<nail x="-8" y="-204"/>
			<nail x="264" y="-204"/>
		</transition>
		<transition>
			<source ref="id111"/>
			<target ref="id120"/>
			<label kind="guard" x="9" y="-204">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<label kind="synchronisation" x="51" y="-170">concurrent_notify[41]?</label>
			<nail x="-8" y="-204"/>
			<nail x="264" y="-204"/>
		</transition>
		<transition>
			<source ref="id112"/>
			<target ref="id120"/>
			<label kind="guard" x="9" y="-204">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<label kind="synchronisation" x="51" y="-170">concurrent_notify[41]?</label>
			<nail x="-8" y="-204"/>
			<nail x="264" y="-204"/>
		</transition>
		<transition>
			<source ref="id113"/>
			<target ref="id120"/>
			<label kind="guard" x="9" y="-204">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<label kind="synchronisation" x="51" y="-170">concurrent_notify[41]?</label>
			<nail x="-8" y="-204"/>
			<nail x="264" y="-204"/>
		</transition>
		<transition>
			<source ref="id96"/>
			<target ref="id120"/>
			<label kind="guard" x="9" y="-204">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<label kind="synchronisation" x="51" y="-170">concurrent_notify[41]?</label>
			<nail x="-8" y="-204"/>
			<nail x="264" y="-204"/>
		</transition>
		<transition>
			<source ref="id121"/>
			<target ref="id120"/>
			<label kind="guard" x="9" y="-136">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<nail x="-8" y="-136"/>
		</transition>
		<transition>
			<source ref="id102"/>
			<target ref="id122"/>
			<label kind="synchronisation" x="-549" y="-442">concurrent_can_run!</label>
			<label kind="assignment" x="-759" y="-425">concurrent_signal_access( id, true ),
// achieve_walk_given_distance
_request_0000.bound_lower        = 0,
_request_0000.bound_upper        = 0,
_request_0000.is_single_range    = true,
_request_0000.variable_id        = 82,
// [arm_moving = FALSE]
_request_0001.bound_lower        = 0,
_request_0001.bound_upper        = 0,
_request_0001.is_single_range    = true,
_request_0001.variable_id        = 7,
// Make sure resource: robot_wheels not changing.
_request_0002.bound_lower        = 0,
_request_0002.bound_upper        = 0,
_request_0002.is_single_range    = true,
_request_0002.variable_id        = 26</label>
		</transition>
		<transition>
			<source ref="id122"/>
			<target ref="id123"/>
			<label kind="synchronisation" x="-646" y="-578">concurrent_lock_process[id]?</label>
		</transition>
		<transition>
			<source ref="id124"/>
			<target ref="id125"/>
			<label kind="synchronisation" x="-76" y="-680">concurrent_notify[86]!</label>
		</transition>
		<transition>
			<source ref="id123"/>
			<target ref="id124"/>
			<label kind="assignment" x="-544" y="-680">// achieve_walk_given_distance
_variable_0004 = concurrent_request_add( 82, _request_0000 ) ,
// [arm_moving = FALSE]
_variable_0005 = concurrent_request_add( 7, _request_0001 ) ,
// Make sure resource: robot_wheels not changing.
_variable_0006 = concurrent_request_add( 26, _request_0002 ) ,
// This module is running.
concurrent_write( 86, 1 )</label>
		</transition>
		<transition>
			<source ref="id125"/>
			<target ref="id126"/>
			<label kind="synchronisation" x="26" y="-578">concurrent_lock_release!</label>
			<label kind="assignment" x="26" y="-561">concurrent_signal_access( id, false )</label>
		</transition>
		<transition>
			<source ref="id126"/>
			<target ref="id103"/>
		</transition>
		<transition>
			<source ref="id104"/>
			<target ref="id127"/>
			<label kind="synchronisation" x="367" y="-442">concurrent_can_run!</label>
			<label kind="assignment" x="248" y="-425">concurrent_signal_access( id, true )</label>
		</transition>
		<transition>
			<source ref="id127"/>
			<target ref="id128"/>
			<label kind="synchronisation" x="270" y="-578">concurrent_lock_process[id]?</label>
		</transition>
		<transition>
			<source ref="id129"/>
			<target ref="id130"/>
			<label kind="synchronisation" x="840" y="-680">concurrent_notify[67]!</label>
		</transition>
		<transition>
			<source ref="id130"/>
			<target ref="id131"/>
			<label kind="synchronisation" x="840" y="-816">concurrent_notify[86]!</label>
			<nail x="908" y="-748"/>
		</transition>
		<transition>
			<source ref="id128"/>
			<target ref="id129"/>
			<label kind="assignment" x="408" y="-1076">_variable_0004 = concurrent_request_remove_request( _variable_0004 ) ,
_variable_0005 = concurrent_request_remove_request( _variable_0005 ) ,
_variable_0006 = concurrent_request_remove_request( _variable_0006 ) ,
// This module finished running.
concurrent_write( 86, 0 ) ,
// Observation:
concurrent_write( 67, 123 )</label>
			<nail x="534" y="-1084"/>
			<nail x="772" y="-1084"/>
		</transition>
		<transition>
			<source ref="id128"/>
			<target ref="id129"/>
			<label kind="assignment" x="408" y="-958">_variable_0004 = concurrent_request_remove_request( _variable_0004 ) ,
_variable_0005 = concurrent_request_remove_request( _variable_0005 ) ,
_variable_0006 = concurrent_request_remove_request( _variable_0006 ) ,
// This module finished running.
concurrent_write( 86, 0 ) ,
// Observation:
concurrent_write( 67, 124 )</label>
			<nail x="534" y="-966"/>
			<nail x="772" y="-966"/>
		</transition>
		<transition>
			<source ref="id128"/>
			<target ref="id129"/>
			<label kind="assignment" x="408" y="-840">_variable_0004 = concurrent_request_remove_request( _variable_0004 ) ,
_variable_0005 = concurrent_request_remove_request( _variable_0005 ) ,
_variable_0006 = concurrent_request_remove_request( _variable_0006 ) ,
// This module finished running.
concurrent_write( 86, 0 ) ,
// Observation:
concurrent_write( 67, 125 )</label>
			<nail x="534" y="-848"/>
			<nail x="772" y="-848"/>
		</transition>
		<transition>
			<source ref="id128"/>
			<target ref="id129"/>
			<label kind="assignment" x="408" y="-722">_variable_0004 = concurrent_request_remove_request( _variable_0004 ) ,
_variable_0005 = concurrent_request_remove_request( _variable_0005 ) ,
_variable_0006 = concurrent_request_remove_request( _variable_0006 ) ,
// This module finished running.
concurrent_write( 86, 0 ) ,
// Observation:
concurrent_write( 67, 126 )</label>
			<nail x="534" y="-730"/>
			<nail x="772" y="-730"/>
		</transition>
		<transition>
			<source ref="id128"/>
			<target ref="id129"/>
			<label kind="assignment" x="408" y="-604">_variable_0004 = concurrent_request_remove_request( _variable_0004 ) ,
_variable_0005 = concurrent_request_remove_request( _variable_0005 ) ,
_variable_0006 = concurrent_request_remove_request( _variable_0006 ) ,
// This module finished running.
concurrent_write( 86, 0 ) ,
// Observation:
concurrent_write( 67, 127 )</label>
			<nail x="534" y="-612"/>
			<nail x="772" y="-612"/>
		</transition>
		<transition>
			<source ref="id128"/>
			<target ref="id129"/>
			<label kind="assignment" x="408" y="-486">_variable_0004 = concurrent_request_remove_request( _variable_0004 ) ,
_variable_0005 = concurrent_request_remove_request( _variable_0005 ) ,
_variable_0006 = concurrent_request_remove_request( _variable_0006 ) ,
// This module finished running.
concurrent_write( 86, 0 ) ,
// Observation:
concurrent_write( 67, 128 )</label>
			<nail x="534" y="-494"/>
			<nail x="772" y="-494"/>
		</transition>
		<transition>
			<source ref="id128"/>
			<target ref="id129"/>
			<label kind="assignment" x="408" y="-368">_variable_0004 = concurrent_request_remove_request( _variable_0004 ) ,
_variable_0005 = concurrent_request_remove_request( _variable_0005 ) ,
_variable_0006 = concurrent_request_remove_request( _variable_0006 ) ,
// This module finished running.
concurrent_write( 86, 0 ) ,
// Observation:
concurrent_write( 67, 129 )</label>
			<nail x="534" y="-376"/>
			<nail x="772" y="-376"/>
		</transition>
		<transition>
			<source ref="id128"/>
			<target ref="id129"/>
			<label kind="assignment" x="408" y="-250">_variable_0004 = concurrent_request_remove_request( _variable_0004 ) ,
_variable_0005 = concurrent_request_remove_request( _variable_0005 ) ,
_variable_0006 = concurrent_request_remove_request( _variable_0006 ) ,
// This module finished running.
concurrent_write( 86, 0 ) ,
// Observation:
concurrent_write( 67, 130 )</label>
			<nail x="534" y="-258"/>
			<nail x="772" y="-258"/>
		</transition>
		<transition>
			<source ref="id131"/>
			<target ref="id132"/>
			<label kind="synchronisation" x="942" y="-578">concurrent_lock_release!</label>
			<label kind="assignment" x="942" y="-561">concurrent_signal_access( id, false )</label>
		</transition>
		<transition>
			<source ref="id132"/>
			<target ref="id105"/>
		</transition>
		<transition>
			<source ref="id107"/>
			<target ref="id133"/>
			<label kind="guard" x="1197" y="-340">( _variable_0004 == false )</label>
			<nail x="1197" y="-340"/>
		</transition>
		<transition>
			<source ref="id107"/>
			<target ref="id134"/>
			<label kind="guard" x="1197" y="-408">( _variable_0005 == false )</label>
			<nail x="1197" y="-408"/>
		</transition>
		<transition>
			<source ref="id107"/>
			<target ref="id135"/>
			<label kind="guard" x="1197" y="-476">( _variable_0006 == false )</label>
			<nail x="1197" y="-476"/>
		</transition>
		<transition>
			<source ref="id107"/>
			<target ref="id93"/>
			<label kind="guard" x="1197" y="-272">( _variable_0004 == true ) &amp;&amp;
( _variable_0005 == true ) &amp;&amp;
( _variable_0006 == true )</label>
		</transition>


		<transition>
			<source ref="id91"/>
			<target ref="id92"/>
			<label kind="guard" x="-595" y="-51">local_time == 0</label>
		</transition>
		<transition>
			<source ref="id93"/>
			<target ref="id91"/>
			<label kind="guard" x="-458" y="76">true == concurrent_read( 75 )</label>
			<label kind="assignment" x="-458" y="102">local_time = 0</label>
			<nail x="1436" y="102"/>
		</transition>
		<transition controllable="false">
			<source ref="id92"/>
			<target ref="id101"/>
			<label kind="guard" x="-595" y="-382">// Preconditions: [(at areaA), (connected areaA areaB gateway), [begin_Aspeed = 0], [begin_Lspeed = 0]]
( ( concurrent_read( 73 ) &gt; 0 ) &amp;&amp;
( concurrent_read( 74 ) &gt; 0 ) &amp;&amp;
( concurrent_read( 62 ) == 0 ) &amp;&amp;
( concurrent_read( 63 ) == 0 ) )</label>
			<label kind="assignment" x="-502" y="-263">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id93"/>
			<target ref="id98"/>
			<label kind="guard" x="-638" y="127">false == concurrent_read( 75 )</label>
			<label kind="synchronisation" x="-638" y="161">control_plp_done[id]!</label>
			<nail x="1469" y="187"/>
			<nail x="-654" y="187"/>
		</transition>

		<transition>
			<source ref="id98"/>
			<target ref="id92"/>
			<label kind="synchronisation" x="-645" y="-297">control_plp_start[id]?</label>
		</transition>

		<transition>
            <source ref="id94"/>
            <target ref="id104"/>
        </transition>

        <transition>
            <source ref="id105"/>
            <target ref="id107"/>
        </transition>
	</template>
	<template>
		<name>detect_wall</name>
		<parameter>int id</parameter>
		<declaration>
clock local_time;

int _variable_0000;
concurrent_request_type _request_0000;
int _variable_0001;


		</declaration>
		<location id="id137" x="1105" y="-136">
			<name x="1049" y="-126">sort_concurrent_results</name>
			<urgent/>
		</location>
		<location id="id124" x="1445" y="-136">
			<name x="1429" y="-176">end</name>
			<urgent/>
		</location>

		<location id="id126" x="-578" y="-136">
			<name x="-594" y="-176">start</name>
		</location>
		<location id="id128" x="-433" y="-136">
			<name x="-476" y="-178">synced</name>
			<urgent/>
		</location>
		<location id="id129" x="451" y="-136">
			<name x="408" y="-170">main_done</name>
			<urgent/>
		</location>
		<location id="id130" x="102" y="-136">
			<name x="93" y="-170">main_success</name>
			<label kind="invariant" x="102" y="-106">local_time &lt;= 10000</label>

		</location>

		<location id="id131" x="-136" y="-136">
			<name x="-331" y="-195">access_memory_start_0</name>
			<urgent/>
		</location>
		<location id="id135" x="-102" y="-136">
            <name x="-127" y="-195">access_memory_end_0</name>
            <urgent/>
        </location>

		<location id="id132" x="561" y="-136">
			<name x="416" y="-170">access_memory_start_1</name>
			<urgent/>
		</location>
		<location id="id136" x="595" y="-136">
            <name x="620" y="-170">access_memory_end_1</name>
            <urgent/>
        </location>

		<location id="id134" x="-288" y="-136">
            <name x="-298" y="-146">checked</name>
            <urgent/>
        </location>
		<location id="id139" x="18" y="-34">
			<name x="-13" y="-12">failure_0</name>
		</location>
		<location id="id141" x="-34" y="-136">
			<name x="-93" y="-175">check_termination</name>
			<urgent/>
		</location>
		<location id="id140" x="442" y="0">
			<name x="376" y="22">failure_termination</name>
		</location>
		<location id="id142" x="-323" y="-340">
			<name x="-485" y="-348">concurrent_waiting_0</name>
		</location>
		<location id="id143" x="-323" y="-476">
			<name x="-492" y="-484">concurrent_got_lock_0</name>
			<urgent/>
		</location>
		<location id="id144" x="-17" y="-476">
			<name x="5" y="-454">concurrent_notify_0_0</name>
			<urgent/>
		</location>
		<location id="id145" x="85" y="-476">
			<name x="107" y="-484">concurrent_unlock_0</name>
			<urgent/>
		</location>
		<location id="id146" x="85" y="-340">
			<name x="107" y="-348">concurrent_continue_0</name>
			<urgent/>
		</location>
		<location id="id147" x="374" y="-340">
			<name x="212" y="-348">concurrent_waiting_1</name>
		</location>
		<location id="id148" x="374" y="-476">
			<name x="205" y="-484">concurrent_got_lock_1</name>
			<urgent/>
		</location>
		<location id="id149" x="680" y="-476">
			<name x="702" y="-454">concurrent_notify_0_1</name>
			<urgent/>
		</location>
		<location id="id150" x="680" y="-612">
			<name x="702" y="-590">concurrent_notify_1_1</name>
			<urgent/>
		</location>
		<location id="id151" x="782" y="-476">
			<name x="804" y="-484">concurrent_unlock_1</name>
			<urgent/>
		</location>
		<location id="id152" x="782" y="-340">
			<name x="804" y="-348">concurrent_continue_1</name>
			<urgent/>
		</location>
		<location id="id153" x="1411" y="-204">
			<name x="1390" y="-243">fail_0</name>
		</location>


			<branchpoint id="id138" x="-118" y="-34"></branchpoint>



		<init ref="id126"/>
		<transition>
			<source ref="id134"/>
			<target ref="id138"/>
			<nail x="-220" y="-34"/>
		</transition>
		<transition>
			<source ref="id138"/>
			<target ref="id131"/>
			<label kind="probability" x="-118" y="-68">95</label>
		</transition>
		<transition>
			<source ref="id138"/>
			<target ref="id139"/>
			<label kind="probability" x="-104" y="-51">5</label>
		</transition>
		<transition>
			<source ref="id135"/>
			<target ref="id141"/>
		</transition>
		<transition>
			<source ref="id141"/>
			<target ref="id130"/>
					</transition>
		<transition>
			<source ref="id130"/>
			<target ref="id140"/>
			<label kind="guard" x="153" y="-68">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<label kind="synchronisation" x="195" y="-34">concurrent_notify[41]?</label>
			<nail x="170" y="-68"/>
			<nail x="374" y="-68"/>
		</transition>
		<transition>
			<source ref="id141"/>
			<target ref="id140"/>
			<label kind="guard" x="153" y="0">// [[vehicle_off_road = TRUE]]
( ( concurrent_read( 41 ) == 1 ) )</label>
			<nail x="170" y="0"/>
		</transition>
		<transition>
			<source ref="id131"/>
			<target ref="id142"/>
			<label kind="synchronisation" x="-456" y="-306">concurrent_can_run!</label>
			<label kind="assignment" x="-603" y="-289">concurrent_signal_access( id, true ),
// observe_gateway
_request_0000.bound_lower        = 1,
_request_0000.bound_upper        = 1,
_request_0000.is_single_range    = true,
_request_0000.variable_id        = 86</label>
		</transition>
		<transition>
			<source ref="id142"/>
			<target ref="id143"/>
			<label kind="synchronisation" x="-553" y="-442">concurrent_lock_process[id]?</label>
		</transition>
		<transition>
			<source ref="id144"/>
			<target ref="id145"/>
			<label kind="synchronisation" x="17" y="-544">concurrent_notify[87]!</label>
		</transition>
		<transition>
			<source ref="id143"/>
			<target ref="id144"/>
			<label kind="assignment" x="-451" y="-544">// observe_gateway
_variable_0000 = concurrent_request_add( 86, _request_0000 ) ,
// This module is running.
concurrent_write( 87, 1 )</label>
		</transition>
		<transition>
			<source ref="id145"/>
			<target ref="id146"/>
			<label kind="synchronisation" x="119" y="-442">concurrent_lock_release!</label>
			<label kind="assignment" x="119" y="-425">concurrent_signal_access( id, false )</label>
		</transition>
		<transition>
			<source ref="id146"/>
			<target ref="id135"/>
		</transition>
		<transition>
			<source ref="id132"/>
			<target ref="id147"/>
			<label kind="synchronisation" x="241" y="-306">concurrent_can_run!</label>
			<label kind="assignment" x="108" y="-289">concurrent_signal_access( id, true ) ,
// For Goal:
_variable_0001 = concurrent_read( 79 )</label>
		</transition>
		<transition>
			<source ref="id147"/>
			<target ref="id148"/>
			<label kind="synchronisation" x="144" y="-442">concurrent_lock_process[id]?</label>
		</transition>
		<transition>
			<source ref="id149"/>
			<target ref="id150"/>
			<label kind="synchronisation" x="714" y="-544">concurrent_notify[76]!</label>
		</transition>
		<transition>
			<source ref="id150"/>
			<target ref="id151"/>
			<label kind="synchronisation" x="714" y="-680">concurrent_notify[87]!</label>
			<nail x="782" y="-612"/>
		</transition>
		<transition>
			<source ref="id148"/>
			<target ref="id149"/>
			<label kind="assignment" x="190" y="-544">_variable_0000 = concurrent_request_remove_request( _variable_0000 ) ,
// For Goal:
// distance_to_wall
concurrent_write( 76, _variable_0001 ) ,
// This module finished running.
concurrent_write( 87, 0 )</label>
		</transition>
		<transition>
			<source ref="id151"/>
			<target ref="id152"/>
			<label kind="synchronisation" x="816" y="-442">concurrent_lock_release!</label>
			<label kind="assignment" x="816" y="-425">concurrent_signal_access( id, false )</label>
		</transition>
		<transition>
			<source ref="id152"/>
			<target ref="id136"/>
		</transition>
		<transition>
			<source ref="id137"/>
			<target ref="id153"/>
			<label kind="guard" x="1173" y="-204">( _variable_0000 == false )</label>
			<nail x="1173" y="-204"/>
		</transition>
		<transition>
			<source ref="id137"/>
			<target ref="id124"/>
			<label kind="guard" x="1173" y="-136">( _variable_0000 == true )</label>
		</transition>




		<!--transition>
			<source ref="id136"/>
			<target ref="id124"/>
			<label kind="assignment" x="646" y="-127">[<[goal]>]</label>
		</transition-->
		<transition>
			<source ref="id124"/>
			<target ref="id126"/>
			<label kind="synchronisation" x="-560" y="203">control_plp_done[id]!</label>
			<nail x="1445" y="238"/>
			<nail x="-578" y="238"/>
		</transition>
		<transition>
			<source ref="id126"/>
			<target ref="id128"/>
			<label kind="synchronisation" x="-561" y="-161">control_plp_start[id]?</label>
		</transition>
		<transition controllable="false">
			<source ref="id128"/>
			<target ref="id134"/>
			<label kind="guard" x="-603" y="-212">// Preconditions: [[initial_distance_to_wall &gt; lower_bound]]
( ( concurrent_read( 77 ) &gt; concurrent_read( 78 ) ) )</label>
			<label kind="assignment" x="-416" y="-119">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id129"/>
			<target ref="id132"/>
		</transition>

		<transition>
			<source ref="id130"/>
			<target ref="id129"/>
		</transition>

		<transition>
            <source ref="id136"/>
            <target ref="id137"/>
        </transition>
	</template>	<template>
		<name>node_probability_1</name>
		<parameter>int node_id, int concurrent_process_id</parameter>
		<declaration>
clock local_time;
		</declaration>
		<location id="id2" x="272" y="374">
			<name x="202" y="335">concurrent_waiting_0</name>
		</location>
		<location id="id3" x="476" y="374">
			<name x="403" y="335">concurrent_got_lock_0</name>
			<urgent/>
		</location>
		<location id="id4" x="476" y="510">
			<name x="403" y="532">concurrent_notify_0_0</name>
			<urgent/>
		</location>
		<location id="id5" x="680" y="510">
			<name x="607" y="532">concurrent_notify_1_0</name>
			<urgent/>
		</location>
		<location id="id6" x="476" y="578">
			<name x="410" y="600">concurrent_unlock_0</name>
			<urgent/>
		</location>
		<location id="id7" x="272" y="578">
			<name x="199" y="600">concurrent_continue_0</name>
			<urgent/>
		</location>
		<location id="id12" x="0" y="0">
			<name x="-57" y="-8">start</name>
		</location>
		<location id="id13" x="0" y="136">
			<name x="-57" y="128">ready</name>
			<label kind="invariant" x="22" y="158">( local_time &lt;= 100 )</label>
		</location>
		<location id="id1" x="0" y="476">
			<name x="-64" y="468">path_0</name>
			<urgent/>
		</location>
		<location id="id14" x="0" y="612">
			<name x="-64" y="604">done_0</name>
		</location>
		<location id="id8" x="1020" y="476">
			<name x="956" y="468">path_1</name>
			<urgent/>
		</location>
		<location id="id15" x="1020" y="612">
			<name x="956" y="604">done_1</name>
		</location>
		<location id="id9" x="2040" y="476">
			<name x="1976" y="468">path_2</name>
			<urgent/>
		</location>
		<location id="id16" x="2040" y="612">
			<name x="1976" y="604">done_2</name>
		</location>
		<location id="id10" x="3060" y="476">
			<name x="2996" y="468">path_3</name>
			<urgent/>
		</location>
		<location id="id17" x="3060" y="612">
			<name x="2996" y="604">done_3</name>
		</location>
		<location id="id11" x="4080" y="476">
			<name x="4016" y="468">path_4</name>
			<urgent/>
		</location>
		<location id="id18" x="4080" y="612">
			<name x="4016" y="604">done_4</name>
		</location>
			<branchpoint id="id0" x="0" y="272"></branchpoint>
		<init ref="id12"/>
		<transition>
			<source ref="id0"/>
			<target ref="id2"/>
			<label kind="synchronisation" x="139" y="408">concurrent_can_run!</label>
			<label kind="assignment" x="-113" y="425">concurrent_signal_access( concurrent_process_id, true )</label>
			<label kind="probability" x="258" y="442">10</label>
		</transition>
		<transition>
			<source ref="id2"/>
			<target ref="id3"/>
			<label kind="synchronisation" x="210" y="306">concurrent_lock_process[concurrent_process_id]?</label>
		</transition>
		<transition>
			<source ref="id4"/>
			<target ref="id5"/>
			<label kind="synchronisation" x="501" y="510">concurrent_notify[39]!</label>
		</transition>
		<transition>
			<source ref="id5"/>
			<target ref="id6"/>
			<label kind="synchronisation" x="705" y="510">concurrent_notify[88]!</label>
			<nail x="680" y="578"/>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id4"/>
			<label kind="assignment" x="510" y="408">concurrent_write( 39, 200 ) ,
concurrent_write( 88, 1100 )</label>
		</transition>
		<transition>
			<source ref="id6"/>
			<target ref="id7"/>
			<label kind="synchronisation" x="290" y="646">concurrent_lock_release!</label>
			<label kind="assignment" x="178" y="663">concurrent_signal_access( concurrent_process_id, false )</label>
		</transition>
		<transition>
			<source ref="id7"/>
			<target ref="id1"/>
			<label kind="assignment" x="49" y="578">control_node_can_run[0] = 1</label>
		</transition>
		<transition>
			<source ref="id12"/>
			<target ref="id13"/>
			<label kind="synchronisation" x="-203" y="68">control_node_notify[node_id]?</label>
			<label kind="assignment" x="-98" y="85">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id13"/>
			<target ref="id0"/>
			<label kind="guard" x="-147" y="204">( local_time == 100 )</label>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id14"/>
			<label kind="synchronisation" x="-161" y="544">control_node_notify[1]!</label>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id8"/>
			<label kind="assignment" x="831" y="340">control_node_can_run[4] = 1</label>
			<label kind="probability" x="1006" y="357">80</label>
			<nail x="1020" y="340"/>
		</transition>
		<transition>
			<source ref="id8"/>
			<target ref="id15"/>
			<label kind="synchronisation" x="859" y="544">control_node_notify[2]!</label>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id9"/>
			<label kind="assignment" x="1851" y="340">control_node_can_run[4] = 1</label>
			<label kind="probability" x="2033" y="357">3</label>
			<nail x="2040" y="340"/>
		</transition>
		<transition>
			<source ref="id9"/>
			<target ref="id16"/>
			<label kind="synchronisation" x="1879" y="544">control_node_notify[2]!</label>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id10"/>
			<label kind="assignment" x="2871" y="340">control_node_can_run[4] = 1</label>
			<label kind="probability" x="3053" y="357">3</label>
			<nail x="3060" y="340"/>
		</transition>
		<transition>
			<source ref="id10"/>
			<target ref="id17"/>
			<label kind="synchronisation" x="2899" y="544">control_node_notify[2]!</label>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id11"/>
			<label kind="assignment" x="3891" y="340">control_node_can_run[4] = 1</label>
			<label kind="probability" x="4073" y="357">4</label>
			<nail x="4080" y="340"/>
		</transition>
		<transition>
			<source ref="id11"/>
			<target ref="id18"/>
			<label kind="synchronisation" x="3919" y="544">control_node_notify[2]!</label>
		</transition>
	</template>
	<template>
		<name>node_probability_2</name>
		<parameter>int node_id, int concurrent_process_id</parameter>
		<declaration>
clock local_time;
		</declaration>
		<location id="id2" x="0" y="0">
			<name x="-57" y="-8">start</name>
		</location>
		<location id="id3" x="0" y="136">
			<name x="-57" y="128">ready</name>
			<label kind="invariant" x="22" y="158">( local_time &lt;= 200 )</label>
		</location>
		<location id="id1" x="0" y="476">
			<name x="-64" y="468">path_0</name>
			<urgent/>
		</location>
		<location id="id4" x="0" y="612">
			<name x="-64" y="604">done_0</name>
		</location>
			<branchpoint id="id0" x="0" y="272"></branchpoint>
		<init ref="id2"/>
		<transition>
			<source ref="id2"/>
			<target ref="id3"/>
			<label kind="guard" x="-238" y="68">( control_node_can_run[0] &gt; 0 )</label>
			<label kind="synchronisation" x="-203" y="85">control_node_notify[node_id]?</label>
			<label kind="assignment" x="-98" y="102">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id0"/>
			<label kind="guard" x="-147" y="204">( local_time == 200 )</label>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id1"/>
			<label kind="assignment" x="-189" y="340">control_node_can_run[5] = 1</label>
			<label kind="probability" x="-21" y="357">100</label>
			<nail x="0" y="340"/>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id4"/>
			<label kind="synchronisation" x="-161" y="544">control_node_notify[3]!</label>
		</transition>
	</template>
	<template>
		<name>node_probability_3</name>
		<parameter>int node_id, int concurrent_process_id</parameter>
		<declaration>
clock local_time;
		</declaration>
		<location id="id2" x="0" y="0">
			<name x="-57" y="-8">start</name>
		</location>
		<location id="id3" x="0" y="136">
			<name x="-57" y="128">ready</name>
			<label kind="invariant" x="22" y="158">( local_time &lt;= 300 )</label>
		</location>
		<location id="id1" x="0" y="476">
			<name x="-64" y="468">path_0</name>
			<urgent/>
		</location>
		<location id="id4" x="0" y="612">
			<name x="-64" y="604">done_0</name>
		</location>
			<branchpoint id="id0" x="0" y="272"></branchpoint>
		<init ref="id2"/>
		<transition>
			<source ref="id2"/>
			<target ref="id3"/>
			<label kind="guard" x="-238" y="68">( control_node_can_run[4] &gt; 0 )</label>
			<label kind="synchronisation" x="-203" y="85">control_node_notify[node_id]?</label>
			<label kind="assignment" x="-98" y="102">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id0"/>
			<label kind="guard" x="-147" y="204">( local_time == 300 )</label>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id1"/>
			<label kind="assignment" x="-189" y="340">control_node_can_run[6] = 1</label>
			<label kind="probability" x="-21" y="357">100</label>
			<nail x="0" y="340"/>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id4"/>
			<label kind="synchronisation" x="-161" y="544">control_node_notify[3]!</label>
		</transition>
	</template>
	<template>
		<name>node_probability_4</name>
		<parameter>int node_id, int concurrent_process_id</parameter>
		<declaration>
clock local_time;
		</declaration>
		<location id="id2" x="0" y="0">
			<name x="-57" y="-8">start</name>
		</location>
		<location id="id3" x="0" y="136">
			<name x="-57" y="128">ready</name>
			<label kind="invariant" x="22" y="158">( local_time &lt;= 400 )</label>
		</location>
		<location id="id1" x="0" y="476">
			<name x="-64" y="468">path_0</name>
			<urgent/>
		</location>
		<location id="id4" x="0" y="612">
			<name x="-64" y="604">done_0</name>
		</location>
			<branchpoint id="id0" x="0" y="272"></branchpoint>
		<init ref="id2"/>
		<transition>
			<source ref="id2"/>
			<target ref="id3"/>
			<label kind="guard" x="-259" y="68">( control_node_can_run[5] &gt; 0 ) ||
( control_node_can_run[6] &gt; 0 )</label>
			<label kind="synchronisation" x="-203" y="102">control_node_notify[node_id]?</label>
			<label kind="assignment" x="-98" y="119">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id0"/>
			<label kind="guard" x="-147" y="204">( local_time == 400 )</label>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id1"/>
			<label kind="assignment" x="-189" y="340">control_node_can_run[7] = 1</label>
			<label kind="probability" x="-21" y="357">100</label>
			<nail x="0" y="340"/>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id4"/>
			<label kind="synchronisation" x="-161" y="544">control_node_notify[4]!</label>
		</transition>
	</template>
	<template>
		<name>node_concurrent_1</name>
		<parameter>int node_id, int concurrent_process_id</parameter>
		<declaration>
clock local_time;
		</declaration>
		<location id="id2" x="0" y="0">
			<name x="-57" y="-8">start</name>
		</location>
		<location id="id0" x="0" y="136">
			<name x="-57" y="128">ready</name>
			<urgent/>
		</location>
		<location id="id1" x="0" y="272">
			<name x="-99" y="264">all_can_run</name>
			<label kind="invariant" x="22" y="294">( local_time &lt;= 300 )</label>
		</location>
		<location id="id3" x="0" y="408">
			<name x="-57" y="400">run_0</name>
			<urgent/>
		</location>
		<location id="id4" x="0" y="544">
			<name x="-57" y="536">run_1</name>
			<urgent/>
		</location>
		<location id="id5" x="0" y="680">
			<name x="-57" y="672">run_2</name>
			<urgent/>
		</location>
		<location id="id6" x="0" y="816">
			<name x="-50" y="808">done</name>
		</location>
		<init ref="id2"/>
		<transition>
			<source ref="id2"/>
			<target ref="id0"/>
			<label kind="guard" x="-238" y="68">( control_node_can_run[7] &gt; 0 )</label>
			<label kind="synchronisation" x="-203" y="85">control_node_notify[node_id]?</label>
			<label kind="assignment" x="-98" y="102">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id1"/>
			<label kind="assignment" x="-203" y="204">control_node_can_run[8] = 1 ,
control_node_can_run[9] = 1 ,
control_node_can_run[10] = 1</label>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id3"/>
			<label kind="synchronisation" x="-161" y="340">control_node_notify[5]!</label>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id4"/>
			<label kind="synchronisation" x="-161" y="476">control_node_notify[6]!</label>
		</transition>
		<transition>
			<source ref="id4"/>
			<target ref="id5"/>
			<label kind="synchronisation" x="-161" y="612">control_node_notify[7]!</label>
		</transition>
		<transition>
			<source ref="id5"/>
			<target ref="id6"/>
		</transition>
	</template>
	<template>
		<name>node_concurrent_2</name>
		<parameter>int node_id, int concurrent_process_id</parameter>
		<declaration>
clock local_time;
		</declaration>
		<location id="id2" x="0" y="0">
			<name x="-57" y="-8">start</name>
		</location>
		<location id="id0" x="0" y="136">
			<name x="-57" y="128">ready</name>
			<urgent/>
		</location>
		<location id="id1" x="0" y="272">
			<name x="-99" y="264">all_can_run</name>
			<label kind="invariant" x="22" y="294">( local_time &lt;= 200 )</label>
		</location>
		<location id="id3" x="0" y="408">
			<name x="-50" y="400">done</name>
		</location>
		<init ref="id2"/>
		<transition>
			<source ref="id2"/>
			<target ref="id0"/>
			<label kind="guard" x="-238" y="68">( control_node_can_run[8] &gt; 0 )</label>
			<label kind="synchronisation" x="-203" y="85">control_node_notify[node_id]?</label>
			<label kind="assignment" x="-98" y="102">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id1"/>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id3"/>
		</transition>
	</template>
	<template>
		<name>node_concurrent_3</name>
		<parameter>int node_id, int concurrent_process_id</parameter>
		<declaration>
clock local_time;
		</declaration>
		<location id="id2" x="0" y="0">
			<name x="-57" y="-8">start</name>
		</location>
		<location id="id0" x="0" y="136">
			<name x="-57" y="128">ready</name>
			<urgent/>
		</location>
		<location id="id1" x="0" y="272">
			<name x="-99" y="264">all_can_run</name>
			<label kind="invariant" x="22" y="294">( local_time &lt;= 500 )</label>
		</location>
		<location id="id3" x="0" y="408">
			<name x="-50" y="400">done</name>
		</location>
		<init ref="id2"/>
		<transition>
			<source ref="id2"/>
			<target ref="id0"/>
			<label kind="guard" x="-238" y="68">( control_node_can_run[9] &gt; 0 )</label>
			<label kind="synchronisation" x="-203" y="85">control_node_notify[node_id]?</label>
			<label kind="assignment" x="-98" y="102">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id1"/>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id3"/>
		</transition>
	</template>
	<template>
		<name>node_concurrent_4</name>
		<parameter>int node_id, int concurrent_process_id</parameter>
		<declaration>
clock local_time;
		</declaration>
		<location id="id2" x="272" y="102">
			<name x="202" y="63">concurrent_waiting_0</name>
		</location>
		<location id="id3" x="476" y="102">
			<name x="403" y="63">concurrent_got_lock_0</name>
			<urgent/>
		</location>
		<location id="id4" x="476" y="238">
			<name x="403" y="260">concurrent_notify_0_0</name>
			<urgent/>
		</location>
		<location id="id5" x="476" y="306">
			<name x="410" y="328">concurrent_unlock_0</name>
			<urgent/>
		</location>
		<location id="id6" x="272" y="306">
			<name x="199" y="328">concurrent_continue_0</name>
			<urgent/>
		</location>
		<location id="id7" x="0" y="0">
			<name x="-57" y="-8">start</name>
		</location>
		<location id="id0" x="0" y="136">
			<name x="-57" y="128">ready</name>
			<urgent/>
		</location>
		<location id="id1" x="0" y="272">
			<name x="-99" y="264">all_can_run</name>
			<label kind="invariant" x="22" y="294">( local_time &lt;= 100 )</label>
		</location>
		<location id="id8" x="0" y="408">
			<name x="-57" y="400">run_0</name>
			<urgent/>
		</location>
		<location id="id9" x="0" y="544">
			<name x="-57" y="536">run_1</name>
			<urgent/>
		</location>
		<location id="id10" x="0" y="680">
			<name x="-50" y="672">done</name>
		</location>
		<init ref="id7"/>
		<transition>
			<source ref="id0"/>
			<target ref="id2"/>
			<label kind="synchronisation" x="139" y="136">concurrent_can_run!</label>
			<label kind="assignment" x="-113" y="153">concurrent_signal_access( concurrent_process_id, true )</label>
		</transition>
		<transition>
			<source ref="id2"/>
			<target ref="id3"/>
			<label kind="synchronisation" x="210" y="34">concurrent_lock_process[concurrent_process_id]?</label>
		</transition>
		<transition>
			<source ref="id4"/>
			<target ref="id5"/>
			<label kind="synchronisation" x="505" y="238">concurrent_notify[8]!</label>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id4"/>
			<label kind="assignment" x="510" y="136">concurrent_write( 8, 300 )</label>
		</transition>
		<transition>
			<source ref="id5"/>
			<target ref="id6"/>
			<label kind="synchronisation" x="290" y="374">concurrent_lock_release!</label>
			<label kind="assignment" x="178" y="391">concurrent_signal_access( concurrent_process_id, false )</label>
		</transition>
		<transition>
			<source ref="id6"/>
			<target ref="id1"/>
			<label kind="assignment" x="28" y="306">control_node_can_run[11] = 1 ,
control_node_can_run[12] = 1</label>
		</transition>
		<transition>
			<source ref="id7"/>
			<target ref="id0"/>
			<label kind="guard" x="-245" y="68">( control_node_can_run[10] &gt; 0 )</label>
			<label kind="synchronisation" x="-203" y="85">control_node_notify[node_id]?</label>
			<label kind="assignment" x="-98" y="102">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id8"/>
			<label kind="synchronisation" x="-161" y="340">control_node_notify[8]!</label>
		</transition>
		<transition>
			<source ref="id8"/>
			<target ref="id9"/>
			<label kind="synchronisation" x="-161" y="476">control_node_notify[9]!</label>
		</transition>
		<transition>
			<source ref="id9"/>
			<target ref="id10"/>
		</transition>
	</template>
	<template>
		<name>node_sequential_1</name>
		<parameter>int node_id, int concurrent_process_id</parameter>
		<declaration>
clock local_time;
		</declaration>
		<location id="id2" x="272" y="238">
			<name x="202" y="199">concurrent_waiting_0</name>
		</location>
		<location id="id3" x="476" y="238">
			<name x="403" y="199">concurrent_got_lock_0</name>
			<urgent/>
		</location>
		<location id="id4" x="476" y="374">
			<name x="403" y="396">concurrent_notify_0_0</name>
			<urgent/>
		</location>
		<location id="id5" x="680" y="374">
			<name x="607" y="396">concurrent_notify_1_0</name>
			<urgent/>
		</location>
		<location id="id6" x="884" y="374">
			<name x="811" y="396">concurrent_notify_2_0</name>
			<urgent/>
		</location>
		<location id="id7" x="476" y="442">
			<name x="410" y="464">concurrent_unlock_0</name>
			<urgent/>
		</location>
		<location id="id8" x="272" y="442">
			<name x="199" y="464">concurrent_continue_0</name>
			<urgent/>
		</location>
		<location id="id9" x="0" y="0">
			<name x="-57" y="-8">start</name>
		</location>
		<location id="id10" x="0" y="136">
			<name x="-57" y="128">ready</name>
			<urgent/>
		</location>
		<location id="id0" x="0" y="272">
			<name x="-64" y="264">wait_0</name>
			<label kind="invariant" x="22" y="294">( local_time &lt;= 400 )</label>
		</location>
		<location id="id1" x="0" y="408">
			<name x="-113" y="400">plp_running_0</name>
		</location>
		<location id="id11" x="0" y="544">
			<name x="-92" y="536">plp_done_0</name>
			<urgent/>
		</location>
		<location id="id12" x="0" y="680">
			<name x="-113" y="672">all_plps_done</name>
			<urgent/>
		</location>
		<location id="id13" x="0" y="816">
			<name x="-50" y="808">done</name>
		</location>
		<init ref="id9"/>
		<transition>
			<source ref="id0"/>
			<target ref="id2"/>
			<label kind="guard" x="125" y="272">( local_time == 400 )</label>
			<label kind="synchronisation" x="139" y="289">concurrent_can_run!</label>
			<label kind="assignment" x="-113" y="306">concurrent_signal_access( concurrent_process_id, true )</label>
		</transition>
		<transition>
			<source ref="id2"/>
			<target ref="id3"/>
			<label kind="synchronisation" x="210" y="170">concurrent_lock_process[concurrent_process_id]?</label>
		</transition>
		<transition>
			<source ref="id4"/>
			<target ref="id5"/>
			<label kind="synchronisation" x="501" y="374">concurrent_notify[39]!</label>
		</transition>
		<transition>
			<source ref="id5"/>
			<target ref="id6"/>
			<label kind="synchronisation" x="705" y="374">concurrent_notify[40]!</label>
		</transition>
		<transition>
			<source ref="id6"/>
			<target ref="id7"/>
			<label kind="synchronisation" x="909" y="374">concurrent_notify[60]!</label>
			<nail x="884" y="442"/>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id4"/>
			<label kind="assignment" x="510" y="272">concurrent_write( 39, 900 ) ,
concurrent_write( 40, 300 ) ,
concurrent_write( 60, 1 )</label>
		</transition>
		<transition>
			<source ref="id7"/>
			<target ref="id8"/>
			<label kind="synchronisation" x="290" y="510">concurrent_lock_release!</label>
			<label kind="assignment" x="178" y="527">concurrent_signal_access( concurrent_process_id, false )</label>
		</transition>
		<transition>
			<source ref="id8"/>
			<target ref="id1"/>
			<label kind="synchronisation" x="91" y="442">control_plp_start[3]!</label>
		</transition>
		<transition>
			<source ref="id9"/>
			<target ref="id10"/>
			<label kind="guard" x="-245" y="68">( control_node_can_run[11] &gt; 0 )</label>
			<label kind="synchronisation" x="-203" y="85">control_node_notify[node_id]?</label>
			<label kind="assignment" x="-98" y="102">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id10"/>
			<target ref="id0"/>
			<label kind="assignment" x="-98" y="204">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id11"/>
			<label kind="synchronisation" x="-140" y="476">control_plp_done[3]?</label>
		</transition>
		<transition>
			<source ref="id11"/>
			<target ref="id12"/>
			<label kind="assignment" x="-196" y="612">control_node_can_run[13] = 1</label>
		</transition>
		<transition>
			<source ref="id12"/>
			<target ref="id13"/>
			<label kind="synchronisation" x="-168" y="748">control_node_notify[10]!</label>
		</transition>
	</template>
	<template>
		<name>node_sequential_2</name>
		<parameter>int node_id, int concurrent_process_id</parameter>
		<declaration>
clock local_time;
		</declaration>
		<location id="id2" x="272" y="238">
			<name x="202" y="199">concurrent_waiting_0</name>
		</location>
		<location id="id3" x="476" y="238">
			<name x="403" y="199">concurrent_got_lock_0</name>
			<urgent/>
		</location>
		<location id="id4" x="476" y="374">
			<name x="403" y="396">concurrent_notify_0_0</name>
			<urgent/>
		</location>
		<location id="id5" x="680" y="374">
			<name x="607" y="396">concurrent_notify_1_0</name>
			<urgent/>
		</location>
		<location id="id6" x="884" y="374">
			<name x="811" y="396">concurrent_notify_2_0</name>
			<urgent/>
		</location>
		<location id="id7" x="476" y="442">
			<name x="410" y="464">concurrent_unlock_0</name>
			<urgent/>
		</location>
		<location id="id8" x="272" y="442">
			<name x="199" y="464">concurrent_continue_0</name>
			<urgent/>
		</location>
		<location id="id11" x="272" y="646">
			<name x="202" y="607">concurrent_waiting_1</name>
		</location>
		<location id="id12" x="476" y="646">
			<name x="403" y="607">concurrent_got_lock_1</name>
			<urgent/>
		</location>
		<location id="id13" x="476" y="782">
			<name x="403" y="804">concurrent_notify_0_1</name>
			<urgent/>
		</location>
		<location id="id14" x="680" y="782">
			<name x="607" y="804">concurrent_notify_1_1</name>
			<urgent/>
		</location>
		<location id="id15" x="884" y="782">
			<name x="811" y="804">concurrent_notify_2_1</name>
			<urgent/>
		</location>
		<location id="id16" x="476" y="850">
			<name x="410" y="872">concurrent_unlock_1</name>
			<urgent/>
		</location>
		<location id="id17" x="272" y="850">
			<name x="199" y="872">concurrent_continue_1</name>
			<urgent/>
		</location>
		<location id="id18" x="0" y="0">
			<name x="-57" y="-8">start</name>
		</location>
		<location id="id19" x="0" y="136">
			<name x="-57" y="128">ready</name>
			<urgent/>
		</location>
		<location id="id0" x="0" y="272">
			<name x="-64" y="264">wait_0</name>
			<label kind="invariant" x="22" y="294">( local_time &lt;= 200 )</label>
		</location>
		<location id="id1" x="0" y="408">
			<name x="-113" y="400">plp_running_0</name>
		</location>
		<location id="id20" x="0" y="544">
			<name x="-92" y="536">plp_done_0</name>
			<urgent/>
		</location>
		<location id="id9" x="0" y="680">
			<name x="-64" y="672">wait_1</name>
			<label kind="invariant" x="22" y="702">( local_time &lt;= 100 )</label>
		</location>
		<location id="id10" x="0" y="816">
			<name x="-113" y="808">plp_running_1</name>
		</location>
		<location id="id21" x="0" y="952">
			<name x="-92" y="944">plp_done_1</name>
			<urgent/>
		</location>
		<location id="id22" x="0" y="1088">
			<name x="-113" y="1080">all_plps_done</name>
			<urgent/>
		</location>
		<location id="id23" x="0" y="1224">
			<name x="-50" y="1216">done</name>
		</location>
		<init ref="id18"/>
		<transition>
			<source ref="id0"/>
			<target ref="id2"/>
			<label kind="guard" x="125" y="272">( local_time == 200 )</label>
			<label kind="synchronisation" x="139" y="289">concurrent_can_run!</label>
			<label kind="assignment" x="-113" y="306">concurrent_signal_access( concurrent_process_id, true )</label>
		</transition>
		<transition>
			<source ref="id2"/>
			<target ref="id3"/>
			<label kind="synchronisation" x="210" y="170">concurrent_lock_process[concurrent_process_id]?</label>
		</transition>
		<transition>
			<source ref="id4"/>
			<target ref="id5"/>
			<label kind="synchronisation" x="501" y="374">concurrent_notify[39]!</label>
		</transition>
		<transition>
			<source ref="id5"/>
			<target ref="id6"/>
			<label kind="synchronisation" x="705" y="374">concurrent_notify[40]!</label>
		</transition>
		<transition>
			<source ref="id6"/>
			<target ref="id7"/>
			<label kind="synchronisation" x="909" y="374">concurrent_notify[60]!</label>
			<nail x="884" y="442"/>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id4"/>
			<label kind="assignment" x="510" y="272">concurrent_write( 39, 900 ) ,
concurrent_write( 40, 300 ) ,
concurrent_write( 60, 1 )</label>
		</transition>
		<transition>
			<source ref="id7"/>
			<target ref="id8"/>
			<label kind="synchronisation" x="290" y="510">concurrent_lock_release!</label>
			<label kind="assignment" x="178" y="527">concurrent_signal_access( concurrent_process_id, false )</label>
		</transition>
		<transition>
			<source ref="id8"/>
			<target ref="id1"/>
			<label kind="synchronisation" x="91" y="442">control_plp_start[0]!</label>
		</transition>
		<transition>
			<source ref="id9"/>
			<target ref="id11"/>
			<label kind="guard" x="125" y="680">( local_time == 100 )</label>
			<label kind="synchronisation" x="139" y="697">concurrent_can_run!</label>
			<label kind="assignment" x="-113" y="714">concurrent_signal_access( concurrent_process_id, true )</label>
		</transition>
		<transition>
			<source ref="id11"/>
			<target ref="id12"/>
			<label kind="synchronisation" x="210" y="578">concurrent_lock_process[concurrent_process_id]?</label>
		</transition>
		<transition>
			<source ref="id13"/>
			<target ref="id14"/>
			<label kind="synchronisation" x="501" y="782">concurrent_notify[39]!</label>
		</transition>
		<transition>
			<source ref="id14"/>
			<target ref="id15"/>
			<label kind="synchronisation" x="705" y="782">concurrent_notify[40]!</label>
		</transition>
		<transition>
			<source ref="id15"/>
			<target ref="id16"/>
			<label kind="synchronisation" x="909" y="782">concurrent_notify[60]!</label>
			<nail x="884" y="850"/>
		</transition>
		<transition>
			<source ref="id12"/>
			<target ref="id13"/>
			<label kind="assignment" x="510" y="680">concurrent_write( 39, 800 ) ,
concurrent_write( 40, 200 ) ,
concurrent_write( 60, 1 )</label>
		</transition>
		<transition>
			<source ref="id16"/>
			<target ref="id17"/>
			<label kind="synchronisation" x="290" y="918">concurrent_lock_release!</label>
			<label kind="assignment" x="178" y="935">concurrent_signal_access( concurrent_process_id, false )</label>
		</transition>
		<transition>
			<source ref="id17"/>
			<target ref="id10"/>
			<label kind="synchronisation" x="91" y="850">control_plp_start[4]!</label>
		</transition>
		<transition>
			<source ref="id18"/>
			<target ref="id19"/>
			<label kind="guard" x="-245" y="68">( control_node_can_run[12] &gt; 0 )</label>
			<label kind="synchronisation" x="-203" y="85">control_node_notify[node_id]?</label>
			<label kind="assignment" x="-98" y="102">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id19"/>
			<target ref="id0"/>
			<label kind="assignment" x="-98" y="204">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id20"/>
			<label kind="synchronisation" x="-140" y="476">control_plp_done[0]?</label>
		</transition>
		<transition>
			<source ref="id20"/>
			<target ref="id9"/>
			<label kind="assignment" x="-98" y="612">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id10"/>
			<target ref="id21"/>
			<label kind="synchronisation" x="-140" y="884">control_plp_done[4]?</label>
		</transition>
		<transition>
			<source ref="id21"/>
			<target ref="id22"/>
			<label kind="assignment" x="-196" y="1020">control_node_can_run[14] = 1</label>
		</transition>
		<transition>
			<source ref="id22"/>
			<target ref="id23"/>
			<label kind="synchronisation" x="-168" y="1156">control_node_notify[10]!</label>
		</transition>
	</template>
	<template>
		<name>node_condition_1</name>
		<parameter>int node_id, int concurrent_process_id</parameter>
		<declaration>
clock local_time;
		</declaration>
		<location id="id2" x="272" y="374">
			<name x="202" y="335">concurrent_waiting_0</name>
		</location>
		<location id="id3" x="476" y="374">
			<name x="403" y="335">concurrent_got_lock_0</name>
			<urgent/>
		</location>
		<location id="id4" x="476" y="510">
			<name x="403" y="532">concurrent_notify_0_0</name>
			<urgent/>
		</location>
		<location id="id5" x="476" y="578">
			<name x="410" y="600">concurrent_unlock_0</name>
			<urgent/>
		</location>
		<location id="id6" x="272" y="578">
			<name x="199" y="600">concurrent_continue_0</name>
			<urgent/>
		</location>
		<location id="id8" x="1292" y="374">
			<name x="1222" y="335">concurrent_waiting_1</name>
		</location>
		<location id="id9" x="1496" y="374">
			<name x="1423" y="335">concurrent_got_lock_1</name>
			<urgent/>
		</location>
		<location id="id10" x="1496" y="510">
			<name x="1423" y="532">concurrent_notify_0_1</name>
			<urgent/>
		</location>
		<location id="id11" x="1700" y="510">
			<name x="1627" y="532">concurrent_notify_1_1</name>
			<urgent/>
		</location>
		<location id="id12" x="1496" y="578">
			<name x="1430" y="600">concurrent_unlock_1</name>
			<urgent/>
		</location>
		<location id="id13" x="1292" y="578">
			<name x="1219" y="600">concurrent_continue_1</name>
			<urgent/>
		</location>
		<location id="id14" x="0" y="0">
			<name x="-57" y="-8">start</name>
		</location>
		<location id="id15" x="0" y="136">
			<name x="-57" y="128">ready</name>
			<label kind="invariant" x="22" y="158">( local_time &lt;= 100 )</label>
		</location>
		<location id="id0" x="0" y="272">
			<name x="-50" y="264">main</name>
			<urgent/>
		</location>
		<location id="id1" x="0" y="476">
			<name x="-64" y="468">path_0</name>
			<urgent/>
		</location>
		<location id="id16" x="0" y="612">
			<name x="-64" y="604">done_0</name>
		</location>
		<location id="id7" x="1020" y="476">
			<name x="956" y="468">path_1</name>
			<urgent/>
		</location>
		<location id="id17" x="1020" y="612">
			<name x="956" y="604">done_1</name>
		</location>
		<init ref="id14"/>
		<transition>
			<source ref="id0"/>
			<target ref="id2"/>
			<label kind="guard" x="-36" y="408">( ( concurrent_read( 8 ) == 300 ) &amp;&amp;
( concurrent_read( 88 ) == 1100 ) )</label>
			<label kind="synchronisation" x="139" y="442">concurrent_can_run!</label>
			<label kind="assignment" x="-113" y="459">concurrent_signal_access( concurrent_process_id, true )</label>
		</transition>
		<transition>
			<source ref="id2"/>
			<target ref="id3"/>
			<label kind="synchronisation" x="210" y="306">concurrent_lock_process[concurrent_process_id]?</label>
		</transition>
		<transition>
			<source ref="id4"/>
			<target ref="id5"/>
			<label kind="synchronisation" x="501" y="510">concurrent_notify[39]!</label>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id4"/>
			<label kind="assignment" x="510" y="408">concurrent_write( 39, 100 )</label>
		</transition>
		<transition>
			<source ref="id5"/>
			<target ref="id6"/>
			<label kind="synchronisation" x="290" y="646">concurrent_lock_release!</label>
			<label kind="assignment" x="178" y="663">concurrent_signal_access( concurrent_process_id, false )</label>
		</transition>
		<transition>
			<source ref="id6"/>
			<target ref="id1"/>
			<label kind="assignment" x="42" y="578">control_node_can_run[16] = 1</label>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id8"/>
			<label kind="guard" x="1026" y="408">( ( ( concurrent_read( 8 ) == 300 ) ||
( concurrent_read( 88 ) == 1200 ) ) )</label>
			<label kind="synchronisation" x="1159" y="442">concurrent_can_run!</label>
			<label kind="assignment" x="907" y="459">concurrent_signal_access( concurrent_process_id, true )</label>
		</transition>
		<transition>
			<source ref="id8"/>
			<target ref="id9"/>
			<label kind="synchronisation" x="1230" y="306">concurrent_lock_process[concurrent_process_id]?</label>
		</transition>
		<transition>
			<source ref="id10"/>
			<target ref="id11"/>
			<label kind="synchronisation" x="1521" y="510">concurrent_notify[41]!</label>
		</transition>
		<transition>
			<source ref="id11"/>
			<target ref="id12"/>
			<label kind="synchronisation" x="1725" y="510">concurrent_notify[39]!</label>
			<nail x="1700" y="578"/>
		</transition>
		<transition>
			<source ref="id9"/>
			<target ref="id10"/>
			<label kind="assignment" x="1530" y="408">concurrent_write( 41, 100 ) ,
concurrent_write( 39, 100 )</label>
		</transition>
		<transition>
			<source ref="id12"/>
			<target ref="id13"/>
			<label kind="synchronisation" x="1310" y="646">concurrent_lock_release!</label>
			<label kind="assignment" x="1198" y="663">concurrent_signal_access( concurrent_process_id, false )</label>
		</transition>
		<transition>
			<source ref="id13"/>
			<target ref="id7"/>
			<label kind="assignment" x="1062" y="578">control_node_can_run[16] = 1</label>
		</transition>
		<transition>
			<source ref="id14"/>
			<target ref="id15"/>
			<label kind="guard" x="-322" y="68">( control_node_can_run[13] &gt; 0 ) &amp;&amp;
( control_node_can_run[14] &gt; 0 )</label>
			<label kind="synchronisation" x="-203" y="102">control_node_notify[node_id]?</label>
			<label kind="assignment" x="-98" y="119">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id15"/>
			<target ref="id0"/>
			<label kind="guard" x="-147" y="204">( local_time == 100 )</label>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id16"/>
			<label kind="synchronisation" x="-168" y="544">control_node_notify[11]!</label>
		</transition>
		<transition>
			<source ref="id7"/>
			<target ref="id17"/>
			<label kind="synchronisation" x="852" y="544">control_node_notify[11]!</label>
		</transition>
	</template>
	<template>
		<name>node_condition_2</name>
		<parameter>int node_id, int concurrent_process_id</parameter>
		<declaration>
clock local_time;
		</declaration>
		<location id="id1" x="0" y="0">
			<name x="-57" y="-8">start</name>
		</location>
		<location id="id2" x="0" y="136">
			<name x="-57" y="128">ready</name>
			<label kind="invariant" x="22" y="158">( local_time &lt;= 100 )</label>
		</location>
		<location id="id0" x="0" y="272">
			<name x="-50" y="264">main</name>
		</location>
		<init ref="id1"/>
		<transition>
			<source ref="id1"/>
			<target ref="id2"/>
			<label kind="guard" x="-245" y="68">( control_node_can_run[16] &gt; 0 )</label>
			<label kind="synchronisation" x="-203" y="85">control_node_notify[node_id]?</label>
			<label kind="assignment" x="-98" y="102">local_time = 0</label>
		</transition>
		<transition>
			<source ref="id2"/>
			<target ref="id0"/>
			<label kind="guard" x="-147" y="204">( local_time == 100 )</label>
		</transition>
	</template>

	<template>
		<name>concurrent</name>
		<parameter></parameter>
		<declaration>
		int process_access_granted_id = -1;
		clock time;
        </declaration>
		<location id="id68" x="-1156" y="-204">
			<name x="-1198" y="-246">init_state</name>
		</location>
		<location id="id69" x="-408" y="-34">
			<name x="-433" y="-93">selected</name>
			<urgent/>
		</location>
		<location id="id70" x="0" y="-34">
			<name x="-68" y="-93">waiting_plp_done</name>
		</location>
		<location id="id71" x="-884" y="-34">
			<name x="-909" y="-93">choose</name>
			<urgent/>
		</location>
		<location id="id72" x="-1020" y="-34">
			<name x="-1062" y="-93">wait_to_run</name>
		</location>
		<location id="id73" x="-374" y="306">
			<name x="-382" y="255">released</name>
			<urgent/>
		</location>
		<init ref="id68"/>
		<transition>
			<source ref="id70"/>
			<target ref="id73"/>
			<label kind="synchronisation" x="-348" y="289">concurrent_lock_release?</label>
			<nail x="0" y="306"/>
		</transition>
		<transition>
			<source ref="id73"/>
			<target ref="id71"/>
			<label kind="guard" x="-875" y="127">
(concurrent_info.is_process_would_like_to_access[0] == true) ||
(concurrent_info.is_process_would_like_to_access[1] == true) ||
(concurrent_info.is_process_would_like_to_access[2] == true) ||
(concurrent_info.is_process_would_like_to_access[3] == true) ||
(concurrent_info.is_process_would_like_to_access[4] == true) ||
(concurrent_info.is_process_would_like_to_access[5] == true) ||
(concurrent_info.is_process_would_like_to_access[6] == true) ||
(concurrent_info.is_process_would_like_to_access[7] == true) ||
(concurrent_info.is_process_would_like_to_access[8] == true) ||
(concurrent_info.is_process_would_like_to_access[9] == true) ||
(concurrent_info.is_process_would_like_to_access[10] == true) ||
(concurrent_info.is_process_would_like_to_access[11] == true) ||
(concurrent_info.is_process_would_like_to_access[12] == true) ||
(concurrent_info.is_process_would_like_to_access[13] == true) ||
(concurrent_info.is_process_would_like_to_access[14] == true) ||
(concurrent_info.is_process_would_like_to_access[15] == true) ||
(concurrent_info.is_process_would_like_to_access[16] == true) ||
(concurrent_info.is_process_would_like_to_access[17] == true)
            </label>
			<nail x="-408" y="204"/>
			<nail x="-884" y="204"/>
		</transition>
		<transition>
			<source ref="id72"/>
			<target ref="id71"/>
			<label kind="synchronisation" x="-1028" y="-76">concurrent_can_run?</label>
		</transition>
		<transition>
			<source ref="id68"/>
			<target ref="id72"/>
			<label kind="synchronisation" x="-1147" y="-161">concurrent_init_main?</label>
			<label kind="assignment" x="-1138" y="-34">time = 0</label>
			<nail x="-1156" y="-34"/>
		</transition>
		<transition>
			<source ref="id69"/>
			<target ref="id70"/>
			<label kind="synchronisation" x="-391" y="-68">concurrent_lock_process[process_access_granted_id]!</label>
		</transition>
		<transition>
			<source ref="id73"/>
			<target ref="id72"/>
			<label kind="guard" x="-1011" y="331">
(concurrent_info.is_process_would_like_to_access[0] == false) &amp;&amp;
(concurrent_info.is_process_would_like_to_access[1] == false) &amp;&amp;
(concurrent_info.is_process_would_like_to_access[2] == false) &amp;&amp;
(concurrent_info.is_process_would_like_to_access[3] == false) &amp;&amp;
(concurrent_info.is_process_would_like_to_access[4] == false) &amp;&amp;
(concurrent_info.is_process_would_like_to_access[5] == false) &amp;&amp;
(concurrent_info.is_process_would_like_to_access[6] == false) &amp;&amp;
(concurrent_info.is_process_would_like_to_access[7] == false) &amp;&amp;
(concurrent_info.is_process_would_like_to_access[8] == false) &amp;&amp;
(concurrent_info.is_process_would_like_to_access[9] == false) &amp;&amp;
(concurrent_info.is_process_would_like_to_access[10] == false) &amp;&amp;
(concurrent_info.is_process_would_like_to_access[11] == false) &amp;&amp;
(concurrent_info.is_process_would_like_to_access[12] == false) &amp;&amp;
(concurrent_info.is_process_would_like_to_access[13] == false) &amp;&amp;
(concurrent_info.is_process_would_like_to_access[14] == false) &amp;&amp;
(concurrent_info.is_process_would_like_to_access[15] == false) &amp;&amp;
(concurrent_info.is_process_would_like_to_access[16] == false) &amp;&amp;
(concurrent_info.is_process_would_like_to_access[17] == false)
            </label>
			<label kind="assignment" x="-1088" y="127">time = 0</label>
			<nail x="-408" y="408"/>
			<nail x="-1020" y="408"/>
		</transition>
		
		<transition>
			<source ref="id71"/>
			<target ref="id69"/>
			<label kind="guard" x="-825" y="-320">concurrent_info.is_process_would_like_to_access[0]</label>
			<label kind="assignment" x="-755" y="-300">process_access_granted_id = 0</label>
			<nail x="-860" y="-300"/>
			<nail x="-420" y="-300"/>
		</transition>
		
		<transition>
			<source ref="id71"/>
			<target ref="id69"/>
			<label kind="guard" x="-825" y="-290">concurrent_info.is_process_would_like_to_access[1]</label>
			<label kind="assignment" x="-755" y="-270">process_access_granted_id = 1</label>
			<nail x="-860" y="-270"/>
			<nail x="-420" y="-270"/>
		</transition>
		
		<transition>
			<source ref="id71"/>
			<target ref="id69"/>
			<label kind="guard" x="-825" y="-260">concurrent_info.is_process_would_like_to_access[2]</label>
			<label kind="assignment" x="-755" y="-240">process_access_granted_id = 2</label>
			<nail x="-860" y="-240"/>
			<nail x="-420" y="-240"/>
		</transition>
		
		<transition>
			<source ref="id71"/>
			<target ref="id69"/>
			<label kind="guard" x="-825" y="-230">concurrent_info.is_process_would_like_to_access[3]</label>
			<label kind="assignment" x="-755" y="-210">process_access_granted_id = 3</label>
			<nail x="-860" y="-210"/>
			<nail x="-420" y="-210"/>
		</transition>
		
		<transition>
			<source ref="id71"/>
			<target ref="id69"/>
			<label kind="guard" x="-825" y="-200">concurrent_info.is_process_would_like_to_access[4]</label>
			<label kind="assignment" x="-755" y="-180">process_access_granted_id = 4</label>
			<nail x="-860" y="-180"/>
			<nail x="-420" y="-180"/>
		</transition>
		
		<transition>
			<source ref="id71"/>
			<target ref="id69"/>
			<label kind="guard" x="-825" y="-170">concurrent_info.is_process_would_like_to_access[5]</label>
			<label kind="assignment" x="-755" y="-150">process_access_granted_id = 5</label>
			<nail x="-860" y="-150"/>
			<nail x="-420" y="-150"/>
		</transition>
		
		<transition>
			<source ref="id71"/>
			<target ref="id69"/>
			<label kind="guard" x="-825" y="-140">concurrent_info.is_process_would_like_to_access[6]</label>
			<label kind="assignment" x="-755" y="-120">process_access_granted_id = 6</label>
			<nail x="-860" y="-120"/>
			<nail x="-420" y="-120"/>
		</transition>
		
		<transition>
			<source ref="id71"/>
			<target ref="id69"/>
			<label kind="guard" x="-825" y="-110">concurrent_info.is_process_would_like_to_access[7]</label>
			<label kind="assignment" x="-755" y="-90">process_access_granted_id = 7</label>
			<nail x="-860" y="-90"/>
			<nail x="-420" y="-90"/>
		</transition>
		
		<transition>
			<source ref="id71"/>
			<target ref="id69"/>
			<label kind="guard" x="-825" y="-80">concurrent_info.is_process_would_like_to_access[8]</label>
			<label kind="assignment" x="-755" y="-60">process_access_granted_id = 8</label>
			<nail x="-860" y="-60"/>
			<nail x="-420" y="-60"/>
		</transition>
		
		<transition>
			<source ref="id71"/>
			<target ref="id69"/>
			<label kind="guard" x="-825" y="-50">concurrent_info.is_process_would_like_to_access[9]</label>
			<label kind="assignment" x="-755" y="-30">process_access_granted_id = 9</label>
			<nail x="-860" y="-30"/>
			<nail x="-420" y="-30"/>
		</transition>
		
		<transition>
			<source ref="id71"/>
			<target ref="id69"/>
			<label kind="guard" x="-825" y="-20">concurrent_info.is_process_would_like_to_access[10]</label>
			<label kind="assignment" x="-755" y="0">process_access_granted_id = 10</label>
			<nail x="-860" y="0"/>
			<nail x="-420" y="0"/>
		</transition>
		
		<transition>
			<source ref="id71"/>
			<target ref="id69"/>
			<label kind="guard" x="-825" y="10">concurrent_info.is_process_would_like_to_access[11]</label>
			<label kind="assignment" x="-755" y="30">process_access_granted_id = 11</label>
			<nail x="-860" y="30"/>
			<nail x="-420" y="30"/>
		</transition>
		
		<transition>
			<source ref="id71"/>
			<target ref="id69"/>
			<label kind="guard" x="-825" y="40">concurrent_info.is_process_would_like_to_access[12]</label>
			<label kind="assignment" x="-755" y="60">process_access_granted_id = 12</label>
			<nail x="-860" y="60"/>
			<nail x="-420" y="60"/>
		</transition>
		
		<transition>
			<source ref="id71"/>
			<target ref="id69"/>
			<label kind="guard" x="-825" y="70">concurrent_info.is_process_would_like_to_access[13]</label>
			<label kind="assignment" x="-755" y="90">process_access_granted_id = 13</label>
			<nail x="-860" y="90"/>
			<nail x="-420" y="90"/>
		</transition>
		
		<transition>
			<source ref="id71"/>
			<target ref="id69"/>
			<label kind="guard" x="-825" y="100">concurrent_info.is_process_would_like_to_access[14]</label>
			<label kind="assignment" x="-755" y="120">process_access_granted_id = 14</label>
			<nail x="-860" y="120"/>
			<nail x="-420" y="120"/>
		</transition>
		
		<transition>
			<source ref="id71"/>
			<target ref="id69"/>
			<label kind="guard" x="-825" y="130">concurrent_info.is_process_would_like_to_access[15]</label>
			<label kind="assignment" x="-755" y="150">process_access_granted_id = 15</label>
			<nail x="-860" y="150"/>
			<nail x="-420" y="150"/>
		</transition>
		
		<transition>
			<source ref="id71"/>
			<target ref="id69"/>
			<label kind="guard" x="-825" y="160">concurrent_info.is_process_would_like_to_access[16]</label>
			<label kind="assignment" x="-755" y="180">process_access_granted_id = 16</label>
			<nail x="-860" y="180"/>
			<nail x="-420" y="180"/>
		</transition>
		
		<transition>
			<source ref="id71"/>
			<target ref="id69"/>
			<label kind="guard" x="-825" y="190">concurrent_info.is_process_would_like_to_access[17]</label>
			<label kind="assignment" x="-755" y="210">process_access_granted_id = 17</label>
			<nail x="-860" y="210"/>
			<nail x="-420" y="210"/>
		</transition>

	</template>
	<template>
		<name>control_graph_init</name>
		<declaration>clock local_time;</declaration>
		<location id="id126" x="-272" y="-34">
			<name x="-255" y="-51">start</name>
			<urgent/>
		</location>
		<location id="id127" x="-272" y="170">
			<name x="-255" y="153">concurrent_started</name>
			<urgent/>
		</location>
		<location id="id128" x="-272" y="68">
			<name x="-255" y="51">concurrent_data_initialized</name>
			<urgent/>
		</location>
		<location id="id129" x="-272" y="272">
		</location>
		<init ref="id126"/>
		<transition>
			<source ref="id127"/>
			<target ref="id129"/>
			<label kind="synchronisation" x="-263" y="204">control_node_notify[0]!</label>
		</transition>
		<transition>
			<source ref="id128"/>
			<target ref="id127"/>
			<label kind="synchronisation" x="-263" y="110">concurrent_init_main!</label>
		</transition>
		<transition>
			<source ref="id126"/>
			<target ref="id128"/>
			<label kind="assignment" x="-263" y="8">concurrent_init(),
initialize_variables()</label>
		</transition>
	</template>
	<system>// Place template instantiations here.

concurrent_process         = concurrent();
control_graph_init_process = control_graph_init();
achieve_walk_given_distance_process = achieve_walk_given_distance( 0 );
walk_given_distance_process = walk_given_distance( 1 );
maintain_direction_on_map_2_process = maintain_direction_on_map_2( 2 );
maintain_direction_on_map_process = maintain_direction_on_map( 3 );
observe_gateway_process = observe_gateway( 4 );
detect_wall_process = detect_wall( 5 );
node_probability_1_process = node_probability_1( 0, 6 );
node_probability_2_process = node_probability_2( 1, 7 );
node_probability_3_process = node_probability_3( 2, 8 );
node_probability_4_process = node_probability_4( 3, 9 );
node_concurrent_1_process = node_concurrent_1( 4, 10 );
node_concurrent_2_process = node_concurrent_2( 5, 11 );
node_concurrent_3_process = node_concurrent_3( 6, 12 );
node_concurrent_4_process = node_concurrent_4( 7, 13 );
node_sequential_1_process = node_sequential_1( 8, 14 );
node_sequential_2_process = node_sequential_2( 9, 15 );
node_condition_1_process = node_condition_1( 10, 16 );
node_condition_2_process = node_condition_2( 11, 17 );
system concurrent_process, control_graph_init, achieve_walk_given_distance_process, 
       walk_given_distance_process, maintain_direction_on_map_2_process, maintain_direction_on_map_process, 
       observe_gateway_process, detect_wall_process, node_probability_1_process, 
       node_probability_2_process, node_probability_3_process, node_probability_4_process, 
       node_concurrent_1_process, node_concurrent_2_process, node_concurrent_3_process, 
       node_concurrent_4_process, node_sequential_1_process, node_sequential_2_process, 
       node_condition_1_process, node_condition_2_process;
</system>
	<queries>
		<query>
			<formula>E&lt;&gt; node_condition_2_process.main
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>Pr[&lt;=10000] ( &lt;&gt; node_condition_2_process.main  )
			</formula>
			<comment>
			</comment>
		</query>
	</queries>
</nta>
